var wi=Object.defineProperty;var ki=(t,e,r)=>e in t?wi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var gr=(t,e,r)=>(ki(t,typeof e!="symbol"?e+"":e,r),r);import{_ as xi}from"../chunks/preload-helper.41c905a7.js";import{S as Ei,i as Si,s as Di,k as I,q as Q,a as q,l as K,m as D,r as J,h as w,c as U,n as d,J as bs,K as Pi,b as ee,G as g,L as je,M as W,u as Yt,H as Zt,N as er,o as Ii,O as oe,P as le,Q as vs,t as zt,w as he,R as _s,e as gn,T as Ls}from"../chunks/index.2f401660.js";/* empty css                         */const Ki=!0,pt=Ki,ne=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fe=Object.keys,Se=Array.isArray;function Ie(t,e){return typeof e!="object"||fe(e).forEach(function(r){t[r]=e[r]}),t}typeof Promise>"u"||ne.Promise||(ne.Promise=Promise);const Er=Object.getPrototypeOf,Ai={}.hasOwnProperty;function Fe(t,e){return Ai.call(t,e)}function $t(t,e){typeof e=="function"&&(e=e(Er(t))),(typeof Reflect>"u"?fe:Reflect.ownKeys)(e).forEach(r=>{ot(t,r,e[r])})}const zs=Object.defineProperty;function ot(t,e,r,n){zs(t,e,Ie(r&&Fe(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function Qt(t){return{from:function(e){return t.prototype=Object.create(e.prototype),ot(t.prototype,"constructor",t),{extend:$t.bind(null,t.prototype)}}}}const Ci=Object.getOwnPropertyDescriptor;function es(t,e){let r;return Ci(t,e)||(r=Er(t))&&es(r,e)}const Oi=[].slice;function yn(t,e,r){return Oi.call(t,e,r)}function Ws(t,e){return e(t)}function mr(t){if(!t)throw new Error("Assertion Failed")}function Hs(t){ne.setImmediate?setImmediate(t):setTimeout(t,0)}function Gs(t,e){return t.reduce((r,n,s)=>{var i=e(n,s);return i&&(r[i[0]]=i[1]),r},{})}function lt(t,e){if(Fe(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var r=[],n=0,s=e.length;n<s;++n){var i=lt(t,e[n]);r.push(i)}return r}var a=e.indexOf(".");if(a!==-1){var l=t[e.substr(0,a)];return l===void 0?void 0:lt(l,e.substr(a+1))}}function He(t,e,r){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){mr(typeof r!="string"&&"length"in r);for(var n=0,s=e.length;n<s;++n)He(t,e[n],r[n])}else{var i=e.indexOf(".");if(i!==-1){var a=e.substr(0,i),l=e.substr(i+1);if(l==="")r===void 0?Se(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=r;else{var o=t[a];o&&Fe(t,a)||(o=t[a]={}),He(o,l,r)}}else r===void 0?Se(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=r}}function Ys(t){var e={};for(var r in t)Fe(t,r)&&(e[r]=t[r]);return e}const Ti=[].concat;function Qs(t){return Ti.apply([],t)}const Js="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Qs([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>ne[t]),ji=Js.map(t=>ne[t]);Gs(Js,t=>[t,!0]);let yt=null;function Ar(t){yt=typeof WeakMap<"u"&&new WeakMap;const e=An(t);return yt=null,e}function An(t){if(!t||typeof t!="object")return t;let e=yt&&yt.get(t);if(e)return e;if(Se(t)){e=[],yt&&yt.set(t,e);for(var r=0,n=t.length;r<n;++r)e.push(An(t[r]))}else if(ji.indexOf(t.constructor)>=0)e=t;else{const i=Er(t);for(var s in e=i===Object.prototype?{}:Object.create(i),yt&&yt.set(t,e),t)Fe(t,s)&&(e[s]=An(t[s]))}return e}const{toString:Bi}={};function Cn(t){return Bi.call(t).slice(8,-1)}const On=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ni=typeof On=="symbol"?function(t){var e;return t!=null&&(e=t[On])&&e.apply(t)}:function(){return null},Gt={};function it(t){var e,r,n,s;if(arguments.length===1){if(Se(t))return t.slice();if(this===Gt&&typeof t=="string")return[t];if(s=Ni(t)){for(r=[];!(n=s.next()).done;)r.push(n.value);return r}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(r=new Array(e);e--;)r[e]=t[e];return r}return[t]}for(e=arguments.length,r=new Array(e);e--;)r[e]=arguments[e];return r}const ts=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var et=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Xs(t,e){et=t,Zs=e}var Zs=()=>!0;const Ri=!new Error("").stack;function At(){if(Ri)try{throw At.arguments,new Error}catch(t){return t}return new Error}function Tn(t,e){var r=t.stack;return r?(e=e||0,r.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),r.split(`
`).slice(e).filter(Zs).map(n=>`
`+n).join("")):""}var $s=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],rs=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat($s),Mi={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Jt(t,e){this._e=At(),this.name=t,this.message=e}function ei(t,e){return t+". Errors: "+Object.keys(e).map(r=>e[r].toString()).filter((r,n,s)=>s.indexOf(r)===n).join(`
`)}function mn(t,e,r,n){this._e=At(),this.failures=e,this.failedKeys=n,this.successCount=r,this.message=ei(t,e)}function vr(t,e){this._e=At(),this.name="BulkError",this.failures=Object.keys(e).map(r=>e[r]),this.failuresByPos=e,this.message=ei(t,e)}Qt(Jt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Tn(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Qt(mn).from(Jt),Qt(vr).from(Jt);var ns=rs.reduce((t,e)=>(t[e]=e+"Error",t),{});const Fi=Jt;var M=rs.reduce((t,e)=>{var r=e+"Error";function n(s,i){this._e=At(),this.name=r,s?typeof s=="string"?(this.message=`${s}${i?`
 `+i:""}`,this.inner=i||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=Mi[e]||r,this.inner=null)}return Qt(n).from(Fi),t[e]=n,t},{});M.Syntax=SyntaxError,M.Type=TypeError,M.Range=RangeError;var ws=$s.reduce((t,e)=>(t[e+"Error"]=M[e],t),{}),on=rs.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=M[e]),t),{});function $(){}function Sr(t){return t}function Vi(t,e){return t==null||t===Sr?e:function(r){return e(t(r))}}function It(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function qi(t,e){return t===$?e:function(){var r=t.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?It(n,this.onsuccess):n),s&&(this.onerror=this.onerror?It(s,this.onerror):s),i!==void 0?i:r}}function Ui(t,e){return t===$?e:function(){t.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?It(r,this.onsuccess):r),n&&(this.onerror=this.onerror?It(n,this.onerror):n)}}function Li(t,e){return t===$?e:function(r){var n=t.apply(this,arguments);Ie(r,n);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?It(s,this.onsuccess):s),i&&(this.onerror=this.onerror?It(i,this.onerror):i),n===void 0?a===void 0?void 0:a:Ie(n,a)}}function zi(t,e){return t===$?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function ss(t,e){return t===$?e:function(){var r=t.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return r.then(function(){return e.apply(n,i)})}return e.apply(this,arguments)}}on.ModifyError=mn,on.DexieError=Jt,on.BulkError=vr;var Dr={};const[jn,bn,Bn]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,Er(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Er(e),t]})(),ti=bn&&bn.then,ln=jn&&jn.constructor,is=!!Bn;var Nn=!1,Wi=Bn?()=>{Bn.then(Xr)}:ne.setImmediate?setImmediate.bind(null,Xr):ne.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{Xr(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(Xr,0)},_r=function(t,e){br.push([t,e]),vn&&(Wi(),vn=!1)},Rn=!0,vn=!0,St=[],un=[],Mn=null,Fn=Sr,Xt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xs,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{xs(t[0],t[1])}catch{}})}},B=Xt,br=[],Dt=0,cn=[];function T(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=$,this._lib=!1;var e=this._PSD=B;if(et&&(this._stackHolder=At(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==Dr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&qn(this,this._value))}this._state=null,this._value=null,++e.ref,ni(this,t)}const Vn={get:function(){var t=B,e=_n;function r(n,s){var i=!t.global&&(t!==B||e!==_n);const a=i&&!ut();var l=new T((o,c)=>{as(this,new ri(wn(n,t,i,a),wn(s,t,i,a),o,c,t))});return et&&ai(l,this),l}return r.prototype=Dr,r},set:function(t){ot(this,"then",t&&t.prototype===Dr?Vn:{get:function(){return t},set:Vn.set})}};function ri(t,e,r,n,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=r,this.reject=n,this.psd=s}function ni(t,e){try{e(r=>{if(t._state===null){if(r===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&Cr();r&&typeof r.then=="function"?ni(t,(s,i)=>{r instanceof T?r._then(s,i):r.then(s,i)}):(t._state=!0,t._value=r,si(t)),n&&Or()}},qn.bind(null,t))}catch(r){qn(t,r)}}function qn(t,e){if(un.push(e),t._state===null){var r=t._lib&&Cr();e=Fn(e),t._state=!1,t._value=e,et&&e!==null&&typeof e=="object"&&!e._promise&&function(n,s,i){try{n.apply(null,i)}catch(a){s&&s(a)}}(()=>{var n=es(e,"stack");e._promise=t,ot(e,"stack",{get:()=>Nn?n&&(n.get?n.get.apply(e):n.value):t.stack})}),function(n){St.some(s=>s._value===n._value)||St.push(n)}(t),si(t),r&&Or()}}function si(t){var e=t._listeners;t._listeners=[];for(var r=0,n=e.length;r<n;++r)as(t,e[r]);var s=t._PSD;--s.ref||s.finalize(),Dt===0&&(++Dt,_r(()=>{--Dt==0&&os()},[]))}function as(t,e){if(t._state!==null){var r=t._state?e.onFulfilled:e.onRejected;if(r===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Dt,_r(Hi,[r,t,e])}else t._listeners.push(e)}function Hi(t,e,r){try{Mn=e;var n,s=e._value;e._state?n=t(s):(un.length&&(un=[]),n=t(s),un.indexOf(s)===-1&&function(i){for(var a=St.length;a;)if(St[--a]._value===i._value)return void St.splice(a,1)}(e)),r.resolve(n)}catch(i){r.reject(i)}finally{Mn=null,--Dt==0&&os(),--r.psd.ref||r.psd.finalize()}}function ii(t,e,r){if(e.length===r)return e;var n="";if(t._state===!1){var s,i,a=t._value;a!=null?(s=a.name||"Error",i=a.message||a,n=Tn(a,0)):(s=a,i=""),e.push(s+(i?": "+i:"")+n)}return et&&((n=Tn(t._stackHolder,2))&&e.indexOf(n)===-1&&e.push(n),t._prev&&ii(t._prev,e,r)),e}function ai(t,e){var r=e?e._numPrev+1:0;r<100&&(t._prev=e,t._numPrev=r)}function Xr(){Cr()&&Or()}function Cr(){var t=Rn;return Rn=!1,vn=!1,t}function Or(){var t,e,r;do for(;br.length>0;)for(t=br,br=[],r=t.length,e=0;e<r;++e){var n=t[e];n[0].apply(null,n[1])}while(br.length>0);Rn=!0,vn=!0}function os(){var t=St;St=[],t.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var e=cn.slice(0),r=e.length;r;)e[--r]()}function Zr(t){return new T(Dr,!1,t)}function ae(t,e){var r=B;return function(){var n=Cr(),s=B;try{return bt(r,!0),t.apply(this,arguments)}catch(i){e&&e(i)}finally{bt(s,!1),n&&Or()}}}$t(T.prototype,{then:Vn,_then:function(t,e){as(this,new ri(null,null,t,e,B))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],r=arguments[1];return typeof e=="function"?this.then(null,n=>n instanceof e?r(n):Zr(n)):this.then(null,n=>n&&n.name===e?r(n):Zr(n))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),Zr(e)))},stack:{get:function(){if(this._stack)return this._stack;try{Nn=!0;var t=ii(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Nn=!1}}},timeout:function(t,e){return t<1/0?new T((r,n)=>{var s=setTimeout(()=>n(new M.Timeout(e)),t);this.then(r,n).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ot(T.prototype,Symbol.toStringTag,"Dexie.Promise"),Xt.env=oi(),$t(T,{all:function(){var t=it.apply(null,arguments).map($r);return new T(function(e,r){t.length===0&&e([]);var n=t.length;t.forEach((s,i)=>T.resolve(s).then(a=>{t[i]=a,--n||e(t)},r))})},resolve:t=>{if(t instanceof T)return t;if(t&&typeof t.then=="function")return new T((r,n)=>{t.then(r,n)});var e=new T(Dr,!0,t);return ai(e,Mn),e},reject:Zr,race:function(){var t=it.apply(null,arguments).map($r);return new T((e,r)=>{t.map(n=>T.resolve(n).then(e,r))})},PSD:{get:()=>B,set:t=>B=t},totalEchoes:{get:()=>_n},newPSD:mt,usePSD:rr,scheduler:{get:()=>_r,set:t=>{_r=t}},rejectionMapper:{get:()=>Fn,set:t=>{Fn=t}},follow:(t,e)=>new T((r,n)=>mt((s,i)=>{var a=B;a.unhandleds=[],a.onunhandled=i,a.finalize=It(function(){(function(l){function o(){l(),cn.splice(cn.indexOf(o),1)}cn.push(o),++Dt,_r(()=>{--Dt==0&&os()},[])})(()=>{this.unhandleds.length===0?s():i(this.unhandleds[0])})},a.finalize),t()},e,r,n))}),ln&&(ln.allSettled&&ot(T,"allSettled",function(){const t=it.apply(null,arguments).map($r);return new T(e=>{t.length===0&&e([]);let r=t.length;const n=new Array(r);t.forEach((s,i)=>T.resolve(s).then(a=>n[i]={status:"fulfilled",value:a},a=>n[i]={status:"rejected",reason:a}).then(()=>--r||e(n)))})}),ln.any&&typeof AggregateError<"u"&&ot(T,"any",function(){const t=it.apply(null,arguments).map($r);return new T((e,r)=>{t.length===0&&r(new AggregateError([]));let n=t.length;const s=new Array(n);t.forEach((i,a)=>T.resolve(i).then(l=>e(l),l=>{s[a]=l,--n||r(new AggregateError(s))}))})}));const Ee={awaits:0,echoes:0,id:0};var Gi=0,dn=[],Sn=0,_n=0,Yi=0;function mt(t,e,r,n){var s=B,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++Yi;var a=Xt.env;i.env=is?{Promise:T,PromiseProp:{value:T,configurable:!0,writable:!0},all:T.all,race:T.race,allSettled:T.allSettled,any:T.any,resolve:T.resolve,reject:T.reject,nthen:ks(a.nthen,i),gthen:ks(a.gthen,i)}:{},e&&Ie(i,e),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var l=rr(i,t,r,n);return i.ref===0&&i.finalize(),l}function tr(){return Ee.id||(Ee.id=++Gi),++Ee.awaits,Ee.echoes+=100,Ee.id}function ut(){return!!Ee.awaits&&(--Ee.awaits==0&&(Ee.id=0),Ee.echoes=100*Ee.awaits,!0)}function $r(t){return Ee.echoes&&t&&t.constructor===ln?(tr(),t.then(e=>(ut(),e),e=>(ut(),pe(e)))):t}function Qi(t){++_n,Ee.echoes&&--Ee.echoes!=0||(Ee.echoes=Ee.id=0),dn.push(B),bt(t,!0)}function Ji(){var t=dn[dn.length-1];dn.pop(),bt(t,!1)}function bt(t,e){var r=B;if((e?!Ee.echoes||Sn++&&t===B:!Sn||--Sn&&t===B)||li(e?Qi.bind(null,t):Ji),t!==B&&(B=t,r===Xt&&(Xt.env=oi()),is)){var n=Xt.env.Promise,s=t.env;bn.then=s.nthen,n.prototype.then=s.gthen,(r.global||t.global)&&(Object.defineProperty(ne,"Promise",s.PromiseProp),n.all=s.all,n.race=s.race,n.resolve=s.resolve,n.reject=s.reject,s.allSettled&&(n.allSettled=s.allSettled),s.any&&(n.any=s.any))}}function oi(){var t=ne.Promise;return is?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(ne,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:bn.then,gthen:t.prototype.then}:{}}function rr(t,e,r,n,s){var i=B;try{return bt(t,!0),e(r,n,s)}finally{bt(i,!1)}}function li(t){ti.call(jn,t)}function wn(t,e,r,n){return typeof t!="function"?t:function(){var s=B;r&&tr(),bt(e,!0);try{return t.apply(this,arguments)}finally{bt(s,!1),n&&li(ut)}}}function ks(t,e){return function(r,n){return t.call(this,wn(r,e),wn(n,e))}}(""+ti).indexOf("[native code]")===-1&&(tr=ut=$);function xs(t,e){var r;try{r=e.onuncatched(t)}catch{}if(r!==!1)try{var n,s={promise:e,reason:t};if(ne.document&&document.createEvent?((n=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),Ie(n,s)):ne.CustomEvent&&Ie(n=new CustomEvent("unhandledrejection",{detail:s}),s),n&&ne.dispatchEvent&&(dispatchEvent(n),!ne.PromiseRejectionEvent&&ne.onunhandledrejection))try{ne.onunhandledrejection(n)}catch{}et&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var pe=T.reject;function Un(t,e,r,n){if(t.idbdb&&(t._state.openComplete||B.letThrough||t._vip)){var s=t._createTransaction(e,r,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===ns.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Un(t,e,r,n))):pe(i)}return s._promise(e,(i,a)=>mt(()=>(B.trans=s,n(i,a,s)))).then(i=>s._completion.then(()=>i))}if(t._state.openComplete)return pe(new M.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return pe(new M.DatabaseClosed);t.open().catch($)}return t._state.dbReadyPromise.then(()=>Un(t,e,r,n))}const Et=String.fromCharCode(65535),nt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",wr=[],En=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Xi=En,Zi=En,ui=t=>!/(dexie\.js|dexie\.min\.js)/.test(t);function Kt(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const ci={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function en(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=Ar(e))[t],e)}class $i{_trans(e,r,n){const s=this._tx||B.trans,i=this.name;function a(o,c,u){if(!u.schema[i])throw new M.NotFound("Table "+i+" not part of transaction");return r(u.idbtrans,u)}const l=Cr();try{return s&&s.db===this.db?s===B.trans?s._promise(e,a,n):mt(()=>s._promise(e,a,n),{trans:s,transless:B.transless||B}):Un(this.db,e,[this.name],a)}finally{l&&Or()}}get(e,r){return e&&e.constructor===Object?this.where(e).first(r):this._trans("readonly",n=>this.core.get({trans:n,key:e}).then(s=>this.hook.reading.fire(s))).then(r)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Se(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const r=fe(e);if(r.length===1)return this.where(r[0]).equals(e[r[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(c=>c.compound&&r.every(u=>c.keyPath.indexOf(u)>=0)&&c.keyPath.every(u=>r.indexOf(u)>=0))[0];if(n&&this.db._maxKey!==Et)return this.where(n.name).equals(n.keyPath.map(c=>e[c]));!n&&et&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${r.join("+")}]`);const{idxByName:s}=this.schema,i=this.db._deps.indexedDB;function a(c,u){try{return i.cmp(c,u)===0}catch{return!1}}const[l,o]=r.reduce(([c,u],f)=>{const h=s[f],p=e[f];return[c||h,c||!h?Kt(u,h&&h.multi?m=>{const v=lt(m,f);return Se(v)&&v.some(k=>a(p,k))}:m=>a(p,lt(m,f))):u]},[null,null]);return l?this.where(l.name).equals(e[l.keyPath]).filter(o):n?this.filter(o):this.where(r).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Se(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const r=n=>{if(!n)return n;const s=Object.create(e.prototype);for(var i in n)if(Fe(n,i))try{s[i]=n[i]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e}defineClass(){return this.mapToClass(function(e){Ie(this,e)})}add(e,r){const{auto:n,keyPath:s}=this.schema.primKey;let i=e;return s&&n&&(i=en(s)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:r!=null?[r]:null,values:[i]})).then(a=>a.numFailures?T.reject(a.failures[0]):a.lastResult).then(a=>{if(s)try{He(e,s,a)}catch{}return a})}update(e,r){if(typeof e!="object"||Se(e))return this.where(":id").equals(e).modify(r);{const n=lt(e,this.schema.primKey.keyPath);if(n===void 0)return pe(new M.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?fe(r).forEach(s=>{He(e,s,r[s])}):r(e,{value:e,primKey:n})}catch{}return this.where(":id").equals(n).modify(r)}}put(e,r){const{auto:n,keyPath:s}=this.schema.primKey;let i=e;return s&&n&&(i=en(s)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[i],keys:r!=null?[r]:null})).then(a=>a.numFailures?T.reject(a.failures[0]):a.lastResult).then(a=>{if(s)try{He(e,s,a)}catch{}return a})}delete(e){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[e]})).then(r=>r.numFailures?T.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:ci})).then(e=>e.numFailures?T.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",r=>this.core.getMany({keys:e,trans:r}).then(n=>n.map(s=>this.hook.reading.fire(s))))}bulkAdd(e,r,n){const s=Array.isArray(r)?r:void 0,i=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:l,keyPath:o}=this.schema.primKey;if(o&&s)throw new M.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new M.InvalidArgument("Arguments objects and keys must have the same length");const c=e.length;let u=o&&l?e.map(en(o)):e;return this.core.mutate({trans:a,type:"add",keys:s,values:u,wantResults:i}).then(({numFailures:f,results:h,lastResult:p,failures:m})=>{if(f===0)return i?h:p;throw new vr(`${this.name}.bulkAdd(): ${f} of ${c} operations failed`,m)})})}bulkPut(e,r,n){const s=Array.isArray(r)?r:void 0,i=(n=n||(s?void 0:r))?n.allKeys:void 0;return this._trans("readwrite",a=>{const{auto:l,keyPath:o}=this.schema.primKey;if(o&&s)throw new M.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new M.InvalidArgument("Arguments objects and keys must have the same length");const c=e.length;let u=o&&l?e.map(en(o)):e;return this.core.mutate({trans:a,type:"put",keys:s,values:u,wantResults:i}).then(({numFailures:f,results:h,lastResult:p,failures:m})=>{if(f===0)return i?h:p;throw new vr(`${this.name}.bulkPut(): ${f} of ${c} operations failed`,m)})})}bulkDelete(e){const r=e.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:e})).then(({numFailures:n,lastResult:s,failures:i})=>{if(n===0)return s;throw new vr(`${this.name}.bulkDelete(): ${n} of ${r} operations failed`,i)})}}function kr(t){var e={},r=function(l,o){if(o){for(var c=arguments.length,u=new Array(c-1);--c;)u[c-1]=arguments[c];return e[l].subscribe.apply(null,u),t}if(typeof l=="string")return e[l]};r.addEventType=i;for(var n=1,s=arguments.length;n<s;++n)i(arguments[n]);return r;function i(l,o,c){if(typeof l=="object")return a(l);o||(o=zi),c||(c=$);var u={subscribers:[],fire:c,subscribe:function(f){u.subscribers.indexOf(f)===-1&&(u.subscribers.push(f),u.fire=o(u.fire,f))},unsubscribe:function(f){u.subscribers=u.subscribers.filter(function(h){return h!==f}),u.fire=u.subscribers.reduce(o,c)}};return e[l]=r[l]=u,u}function a(l){fe(l).forEach(function(o){var c=l[o];if(Se(c))i(o,l[o][0],l[o][1]);else{if(c!=="asap")throw new M.InvalidArgument("Invalid event config");var u=i(o,Sr,function(){for(var f=arguments.length,h=new Array(f);f--;)h[f]=arguments[f];u.subscribers.forEach(function(p){Hs(function(){p.apply(null,h)})})})}})}}function yr(t,e){return Qt(e).from({prototype:t}),e}function Wt(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Dn(t,e){t.filter=Kt(t.filter,e)}function Pn(t,e,r){var n=t.replayFilter;t.replayFilter=n?()=>Kt(n(),e()):e,t.justLimit=r&&!n}function hn(t,e){if(t.isPrimKey)return e.primaryKey;const r=e.getIndexByKeyPath(t.index);if(!r)throw new M.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return r}function Es(t,e,r){const n=hn(t,e.schema);return e.openCursor({trans:r,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:n,range:t.range}})}function tn(t,e,r,n){const s=t.replayFilter?Kt(t.filter,t.replayFilter()):t.filter;if(t.or){const i={},a=(l,o,c)=>{if(!s||s(o,c,h=>o.stop(h),h=>o.fail(h))){var u=o.primaryKey,f=""+u;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(u)),Fe(i,f)||(i[f]=!0,e(l,o,c))}};return Promise.all([t.or._iterate(a,r),Ss(Es(t,n,r),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return Ss(Es(t,n,r),Kt(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function Ss(t,e,r,n){var s=ae(n?(i,a,l)=>r(n(i),a,l):r);return t.then(i=>{if(i)return i.start(()=>{var a=()=>i.continue();e&&!e(i,l=>a=l,l=>{i.stop(l),a=$},l=>{i.fail(l),a=$})||s(i.value,i,l=>a=l),a()})})}function Pe(t,e){try{const r=Ds(t),n=Ds(e);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(s,i){const a=s.length,l=i.length,o=a<l?a:l;for(let c=0;c<o;++c)if(s[c]!==i[c])return s[c]<i[c]?-1:1;return a===l?0:a<l?-1:1}(Ps(t),Ps(e));case"Array":return function(s,i){const a=s.length,l=i.length,o=a<l?a:l;for(let c=0;c<o;++c){const u=Pe(s[c],i[c]);if(u!==0)return u}return a===l?0:a<l?-1:1}(t,e)}}catch{}return NaN}function Ds(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const r=Cn(t);return r==="ArrayBuffer"?"binary":r}function Ps(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class ea{_read(e,r){var n=this._ctx;return n.error?n.table._trans(null,pe.bind(null,n.error)):n.table._trans("readonly",e).then(r)}_write(e){var r=this._ctx;return r.error?r.table._trans(null,pe.bind(null,r.error)):r.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var r=this._ctx;r.algorithm=Kt(r.algorithm,e)}_iterate(e,r){return tn(this._ctx,e,r,this._ctx.table.core)}clone(e){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&Ie(n,e),r._ctx=n,r}raw(){return this._ctx.valueMapper=null,this}each(e){var r=this._ctx;return this._read(n=>tn(r,e,n,r.table.core))}count(e){return this._read(r=>{const n=this._ctx,s=n.table.core;if(Wt(n,!0))return s.count({trans:r,query:{index:hn(n,s.schema),range:n.range}}).then(a=>Math.min(a,n.limit));var i=0;return tn(n,()=>(++i,!1),r,s).then(()=>i)}).then(e)}sortBy(e,r){const n=e.split(".").reverse(),s=n[0],i=n.length-1;function a(c,u){return u?a(c[n[u]],u-1):c[s]}var l=this._ctx.dir==="next"?1:-1;function o(c,u){var f=a(c,i),h=a(u,i);return f<h?-l:f>h?l:0}return this.toArray(function(c){return c.sort(o)}).then(r)}toArray(e){return this._read(r=>{var n=this._ctx;if(n.dir==="next"&&Wt(n,!0)&&n.limit>0){const{valueMapper:s}=n,i=hn(n,n.table.core.schema);return n.table.core.query({trans:r,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then(({result:a})=>s?a.map(s):a)}{const s=[];return tn(n,i=>s.push(i),r,n.table.core).then(()=>s)}},e)}offset(e){var r=this._ctx;return e<=0||(r.offset+=e,Wt(r)?Pn(r,()=>{var n=e;return(s,i)=>n===0||(n===1?(--n,!1):(i(()=>{s.advance(n),n=0}),!1))}):Pn(r,()=>{var n=e;return()=>--n<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Pn(this._ctx,()=>{var r=e;return function(n,s,i){return--r<=0&&s(i),r>=0}},!0),this}until(e,r){return Dn(this._ctx,function(n,s,i){return!e(n.value)||(s(i),r)}),this}first(e){return this.limit(1).toArray(function(r){return r[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var r,n;return Dn(this._ctx,function(s){return e(s.value)}),r=this._ctx,n=e,r.isMatch=Kt(r.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){e(s.key,s)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,s){e(s.primaryKey,s)})}keys(e){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,i){n.push(i.key)}).then(function(){return n}).then(e)}primaryKeys(e){var r=this._ctx;if(r.dir==="next"&&Wt(r,!0)&&r.limit>0)return this._read(s=>{var i=hn(r,r.table.core.schema);return r.table.core.query({trans:s,values:!1,limit:r.limit,query:{index:i,range:r.range}})}).then(({result:s})=>s).then(e);r.keysOnly=!r.isMatch;var n=[];return this.each(function(s,i){n.push(i.primaryKey)}).then(function(){return n}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(r){return r[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,r=e.index&&e.table.schema.idxByName[e.index];if(!r||!r.multi)return this;var n={};return Dn(this._ctx,function(s){var i=s.primaryKey.toString(),a=Fe(n,i);return n[i]=!0,!a}),this}modify(e){var r=this._ctx;return this._write(n=>{var s;if(typeof e=="function")s=e;else{var i=fe(e),a=i.length;s=function(v){for(var k=!1,_=0;_<a;++_){var b=i[_],x=e[b];lt(v,b)!==x&&(He(v,b,x),k=!0)}return k}}const l=r.table.core,{outbound:o,extractKey:c}=l.schema.primaryKey,u=this.db._options.modifyChunkSize||200,f=[];let h=0;const p=[],m=(v,k)=>{const{failures:_,numFailures:b}=k;h+=v-b;for(let x of fe(_))f.push(_[x])};return this.clone().primaryKeys().then(v=>{const k=_=>{const b=Math.min(u,v.length-_);return l.getMany({trans:n,keys:v.slice(_,_+b),cache:"immutable"}).then(x=>{const S=[],P=[],E=o?[]:null,A=[];for(let C=0;C<b;++C){const N=x[C],L={value:Ar(N),primKey:v[_+C]};s.call(L,L.value,L)!==!1&&(L.value==null?A.push(v[_+C]):o||Pe(c(N),c(L.value))===0?(P.push(L.value),o&&E.push(v[_+C])):(A.push(v[_+C]),S.push(L.value)))}const O=Wt(r)&&r.limit===1/0&&(typeof e!="function"||e===In)&&{index:r.index,range:r.range};return Promise.resolve(S.length>0&&l.mutate({trans:n,type:"add",values:S}).then(C=>{for(let N in C.failures)A.splice(parseInt(N),1);m(S.length,C)})).then(()=>(P.length>0||O&&typeof e=="object")&&l.mutate({trans:n,type:"put",keys:E,values:P,criteria:O,changeSpec:typeof e!="function"&&e}).then(C=>m(P.length,C))).then(()=>(A.length>0||O&&e===In)&&l.mutate({trans:n,type:"delete",keys:A,criteria:O}).then(C=>m(A.length,C))).then(()=>v.length>_+b&&k(_+u))})};return k(0).then(()=>{if(f.length>0)throw new mn("Error modifying one or more objects",f,h,p);return v.length})})})}delete(){var e=this._ctx,r=e.range;return Wt(e)&&(e.isPrimKey&&!Zi||r.type===3)?this._write(n=>{const{primaryKey:s}=e.table.core.schema,i=r;return e.table.core.count({trans:n,query:{index:s,range:i}}).then(a=>e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then(({failures:l,lastResult:o,results:c,numFailures:u})=>{if(u)throw new mn("Could not delete some values",Object.keys(l).map(f=>l[f]),a-u);return a-u}))}):this.modify(In)}}const In=(t,e)=>e.value=null;function ta(t,e){return t<e?-1:t===e?0:1}function ra(t,e){return t>e?-1:t===e?0:1}function Me(t,e,r){var n=t instanceof hi?new t.Collection(t):t;return n._ctx.error=r?new r(e):new TypeError(e),n}function Ht(t){return new t.Collection(t,()=>di("")).limit(0)}function na(t,e,r,n,s,i){for(var a=Math.min(t.length,n.length),l=-1,o=0;o<a;++o){var c=e[o];if(c!==n[o])return s(t[o],r[o])<0?t.substr(0,o)+r[o]+r.substr(o+1):s(t[o],n[o])<0?t.substr(0,o)+n[o]+r.substr(o+1):l>=0?t.substr(0,l)+e[l]+r.substr(l+1):null;s(t[o],c)<0&&(l=o)}return a<n.length&&i==="next"?t+r.substr(t.length):a<t.length&&i==="prev"?t.substr(0,r.length):l<0?null:t.substr(0,l)+n[l]+r.substr(l+1)}function rn(t,e,r,n){var s,i,a,l,o,c,u,f=r.length;if(!r.every(v=>typeof v=="string"))return Me(t,"String expected.");function h(v){s=function(_){return _==="next"?b=>b.toUpperCase():b=>b.toLowerCase()}(v),i=function(_){return _==="next"?b=>b.toLowerCase():b=>b.toUpperCase()}(v),a=v==="next"?ta:ra;var k=r.map(function(_){return{lower:i(_),upper:s(_)}}).sort(function(_,b){return a(_.lower,b.lower)});l=k.map(function(_){return _.upper}),o=k.map(function(_){return _.lower}),c=v,u=v==="next"?"":n}h("next");var p=new t.Collection(t,()=>gt(l[0],o[f-1]+n));p._ondirectionchange=function(v){h(v)};var m=0;return p._addAlgorithm(function(v,k,_){var b=v.key;if(typeof b!="string")return!1;var x=i(b);if(e(x,o,m))return!0;for(var S=null,P=m;P<f;++P){var E=na(b,x,l[P],o[P],a,c);E===null&&S===null?m=P+1:(S===null||a(S,E)>0)&&(S=E)}return k(S!==null?function(){v.continue(S+u)}:_),!1}),p}function gt(t,e,r,n){return{type:2,lower:t,upper:e,lowerOpen:r,upperOpen:n}}function di(t){return{type:1,lower:t,upper:t}}class hi{get Collection(){return this._ctx.table.db.Collection}between(e,r,n,s){n=n!==!1,s=s===!0;try{return this._cmp(e,r)>0||this._cmp(e,r)===0&&(n||s)&&(!n||!s)?Ht(this):new this.Collection(this,()=>gt(e,r,!n,!s))}catch{return Me(this,nt)}}equals(e){return e==null?Me(this,nt):new this.Collection(this,()=>di(e))}above(e){return e==null?Me(this,nt):new this.Collection(this,()=>gt(e,void 0,!0))}aboveOrEqual(e){return e==null?Me(this,nt):new this.Collection(this,()=>gt(e,void 0,!1))}below(e){return e==null?Me(this,nt):new this.Collection(this,()=>gt(void 0,e,!1,!0))}belowOrEqual(e){return e==null?Me(this,nt):new this.Collection(this,()=>gt(void 0,e))}startsWith(e){return typeof e!="string"?Me(this,"String expected."):this.between(e,e+Et,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):rn(this,(r,n)=>r.indexOf(n[0])===0,[e],Et)}equalsIgnoreCase(e){return rn(this,(r,n)=>r===n[0],[e],"")}anyOfIgnoreCase(){var e=it.apply(Gt,arguments);return e.length===0?Ht(this):rn(this,(r,n)=>n.indexOf(r)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=it.apply(Gt,arguments);return e.length===0?Ht(this):rn(this,(r,n)=>n.some(s=>r.indexOf(s)===0),e,Et)}anyOf(){const e=it.apply(Gt,arguments);let r=this._cmp;try{e.sort(r)}catch{return Me(this,nt)}if(e.length===0)return Ht(this);const n=new this.Collection(this,()=>gt(e[0],e[e.length-1]));n._ondirectionchange=i=>{r=i==="next"?this._ascending:this._descending,e.sort(r)};let s=0;return n._addAlgorithm((i,a,l)=>{const o=i.key;for(;r(o,e[s])>0;)if(++s,s===e.length)return a(l),!1;return r(o,e[s])===0||(a(()=>{i.continue(e[s])}),!1)}),n}notEqual(e){return this.inAnyRange([[-(1/0),e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=it.apply(Gt,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Me(this,nt)}const r=e.reduce((n,s)=>n?n.concat([[n[n.length-1][1],s]]):[[-(1/0),s]],null);return r.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,r){const n=this._cmp,s=this._ascending,i=this._descending,a=this._min,l=this._max;if(e.length===0)return Ht(this);if(!e.every(b=>b[0]!==void 0&&b[1]!==void 0&&s(b[0],b[1])<=0))return Me(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",M.InvalidArgument);const o=!r||r.includeLowers!==!1,c=r&&r.includeUppers===!0;let u,f=s;function h(b,x){return f(b[0],x[0])}try{u=e.reduce(function(b,x){let S=0,P=b.length;for(;S<P;++S){const E=b[S];if(n(x[0],E[1])<0&&n(x[1],E[0])>0){E[0]=a(E[0],x[0]),E[1]=l(E[1],x[1]);break}}return S===P&&b.push(x),b},[]),u.sort(h)}catch{return Me(this,nt)}let p=0;const m=c?b=>s(b,u[p][1])>0:b=>s(b,u[p][1])>=0,v=o?b=>i(b,u[p][0])>0:b=>i(b,u[p][0])>=0;let k=m;const _=new this.Collection(this,()=>gt(u[0][0],u[u.length-1][1],!o,!c));return _._ondirectionchange=b=>{b==="next"?(k=m,f=s):(k=v,f=i),u.sort(h)},_._addAlgorithm((b,x,S)=>{for(var P=b.key;k(P);)if(++p,p===u.length)return x(S),!1;return!!function(E){return!m(E)&&!v(E)}(P)||(this._cmp(P,u[p][1])===0||this._cmp(P,u[p][0])===0||x(()=>{f===s?b.continue(u[p][0]):b.continue(u[p][1])}),!1)}),_}startsWithAnyOf(){const e=it.apply(Gt,arguments);return e.every(r=>typeof r=="string")?e.length===0?Ht(this):this.inAnyRange(e.map(r=>[r,r+Et])):Me(this,"startsWithAnyOf() only works with strings")}}function $e(t){return ae(function(e){return Pr(e),t(e.target.error),!1})}function Pr(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const vt=kr(null,"storagemutated");class sa{_lock(){return mr(!B.global),++this._reculock,this._reculock!==1||B.global||(B.lockOwnerFor=this),this}_unlock(){if(mr(!B.global),--this._reculock==0)for(B.global||(B.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{rr(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&B.lockOwnerFor!==this}create(e){if(!this.mode)return this;const r=this.db.idbdb,n=this.db._state.dbOpenError;if(mr(!this.idbtrans),!e&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new M.DatabaseClosed(n);case"MissingAPIError":throw new M.MissingAPI(n.message,n);default:throw new M.OpenFailed(n)}if(!this.active)throw new M.TransactionInactive;return mr(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=ae(s=>{Pr(s),this._reject(e.error)}),e.onabort=ae(s=>{Pr(s),this.active&&this._reject(new M.Abort(e.error)),this.active=!1,this.on("abort").fire(s)}),e.oncomplete=ae(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&vt.storagemutated.fire(e.mutatedParts)}),this}_promise(e,r,n){if(e==="readwrite"&&this.mode!=="readwrite")return pe(new M.ReadOnly("Transaction is readonly"));if(!this.active)return pe(new M.TransactionInactive);if(this._locked())return new T((i,a)=>{this._blockedFuncs.push([()=>{this._promise(e,r,n).then(i,a)},B])});if(n)return mt(()=>{var i=new T((a,l)=>{this._lock();const o=r(a,l,this);o&&o.then&&o.then(a,l)});return i.finally(()=>this._unlock()),i._lib=!0,i});var s=new T((i,a)=>{var l=r(i,a,this);l&&l.then&&l.then(i,a)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(e){var r=this._root();const n=T.resolve(e);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>n);else{r._waitingFor=n,r._waitingQueue=[];var s=r.idbtrans.objectStore(r.storeNames[0]);(function a(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(s.get(-1/0).onsuccess=a)})()}var i=r._waitingFor;return new T((a,l)=>{n.then(o=>r._waitingQueue.push(ae(a.bind(null,o))),o=>r._waitingQueue.push(ae(l.bind(null,o)))).finally(()=>{r._waitingFor===i&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new M.Abort))}table(e){const r=this._memoizedTables||(this._memoizedTables={});if(Fe(r,e))return r[e];const n=this.schema[e];if(!n)throw new M.NotFound("Table "+e+" not part of transaction");const s=new this.db.Table(e,n,this);return s.core=this.db.core.table(e),r[e]=s,s}}function Ln(t,e,r,n,s,i,a){return{name:t,keyPath:e,unique:r,multi:n,auto:s,compound:i,src:(r&&!a?"&":"")+(n?"*":"")+(s?"++":"")+fi(e)}}function fi(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function pi(t,e,r){return{name:t,primKey:e,indexes:r,mappedClass:null,idxByName:Gs(r,n=>[n.name,n])}}let Ir=t=>{try{return t.only([[]]),Ir=()=>[[]],[[]]}catch{return Ir=()=>Et,Et}};function zn(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?r=>r[e]:r=>lt(r,e)}(t):e=>lt(e,t)}function Is(t){return[].slice.call(t)}let ia=0;function xr(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function aa(t,e,r){function n(o){if(o.type===3)return null;if(o.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:c,upper:u,lowerOpen:f,upperOpen:h}=o;return c===void 0?u===void 0?null:e.upperBound(u,!!h):u===void 0?e.lowerBound(c,!!f):e.bound(c,u,!!f,!!h)}const{schema:s,hasGetAll:i}=function(o,c){const u=Is(o.objectStoreNames);return{schema:{name:o.name,tables:u.map(f=>c.objectStore(f)).map(f=>{const{keyPath:h,autoIncrement:p}=f,m=Se(h),v=h==null,k={},_={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:v,compound:m,keyPath:h,autoIncrement:p,unique:!0,extractKey:zn(h)},indexes:Is(f.indexNames).map(b=>f.index(b)).map(b=>{const{name:x,unique:S,multiEntry:P,keyPath:E}=b,A={name:x,compound:Se(E),keyPath:E,unique:S,multiEntry:P,extractKey:zn(E)};return k[xr(E)]=A,A}),getIndexByKeyPath:b=>k[xr(b)]};return k[":id"]=_.primaryKey,h!=null&&(k[xr(h)]=_.primaryKey),_})},hasGetAll:u.length>0&&"getAll"in c.objectStore(u[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,r),a=s.tables.map(o=>function(c){const u=c.name;return{name:u,schema:c,mutate:function({trans:f,type:h,keys:p,values:m,range:v}){return new Promise((k,_)=>{k=ae(k);const b=f.objectStore(u),x=b.keyPath==null,S=h==="put"||h==="add";if(!S&&h!=="delete"&&h!=="deleteRange")throw new Error("Invalid operation type: "+h);const{length:P}=p||m||{length:1};if(p&&m&&p.length!==m.length)throw new Error("Given keys array must have same length as given values array.");if(P===0)return k({numFailures:0,failures:{},results:[],lastResult:void 0});let E;const A=[],O=[];let C=0;const N=j=>{++C,Pr(j)};if(h==="deleteRange"){if(v.type===4)return k({numFailures:C,failures:O,results:[],lastResult:void 0});v.type===3?A.push(E=b.clear()):A.push(E=b.delete(n(v)))}else{const[j,V]=S?x?[m,p]:[m,null]:[p,null];if(S)for(let F=0;F<P;++F)A.push(E=V&&V[F]!==void 0?b[h](j[F],V[F]):b[h](j[F])),E.onerror=N;else for(let F=0;F<P;++F)A.push(E=b[h](j[F])),E.onerror=N}const L=j=>{const V=j.target.result;A.forEach((F,z)=>F.error!=null&&(O[z]=F.error)),k({numFailures:C,failures:O,results:h==="delete"?p:A.map(F=>F.result),lastResult:V})};E.onerror=j=>{N(j),L(j)},E.onsuccess=L})},getMany:({trans:f,keys:h})=>new Promise((p,m)=>{p=ae(p);const v=f.objectStore(u),k=h.length,_=new Array(k);let b,x=0,S=0;const P=A=>{const O=A.target;_[O._pos]=O.result,++S===x&&p(_)},E=$e(m);for(let A=0;A<k;++A)h[A]!=null&&(b=v.get(h[A]),b._pos=A,b.onsuccess=P,b.onerror=E,++x);x===0&&p(_)}),get:({trans:f,key:h})=>new Promise((p,m)=>{p=ae(p);const v=f.objectStore(u).get(h);v.onsuccess=k=>p(k.target.result),v.onerror=$e(m)}),query:function(f){return h=>new Promise((p,m)=>{p=ae(p);const{trans:v,values:k,limit:_,query:b}=h,x=_===1/0?void 0:_,{index:S,range:P}=b,E=v.objectStore(u),A=S.isPrimaryKey?E:E.index(S.name),O=n(P);if(_===0)return p({result:[]});if(f){const C=k?A.getAll(O,x):A.getAllKeys(O,x);C.onsuccess=N=>p({result:N.target.result}),C.onerror=$e(m)}else{let C=0;const N=k||!("openKeyCursor"in A)?A.openCursor(O):A.openKeyCursor(O),L=[];N.onsuccess=j=>{const V=N.result;return V?(L.push(k?V.value:V.primaryKey),++C===_?p({result:L}):void V.continue()):p({result:L})},N.onerror=$e(m)}})}(i),openCursor:function({trans:f,values:h,query:p,reverse:m,unique:v}){return new Promise((k,_)=>{k=ae(k);const{index:b,range:x}=p,S=f.objectStore(u),P=b.isPrimaryKey?S:S.index(b.name),E=m?v?"prevunique":"prev":v?"nextunique":"next",A=h||!("openKeyCursor"in P)?P.openCursor(n(x),E):P.openKeyCursor(n(x),E);A.onerror=$e(_),A.onsuccess=ae(O=>{const C=A.result;if(!C)return void k(null);C.___id=++ia,C.done=!1;const N=C.continue.bind(C);let L=C.continuePrimaryKey;L&&(L=L.bind(C));const j=C.advance.bind(C),V=()=>{throw new Error("Cursor not stopped")};C.trans=f,C.stop=C.continue=C.continuePrimaryKey=C.advance=()=>{throw new Error("Cursor not started")},C.fail=ae(_),C.next=function(){let F=1;return this.start(()=>F--?this.continue():this.stop()).then(()=>this)},C.start=F=>{const z=new Promise((G,se)=>{G=ae(G),A.onerror=$e(se),C.fail=se,C.stop=ue=>{C.stop=C.continue=C.continuePrimaryKey=C.advance=V,G(ue)}}),H=()=>{if(A.result)try{F()}catch(G){C.fail(G)}else C.done=!0,C.start=()=>{throw new Error("Cursor behind last entry")},C.stop()};return A.onsuccess=ae(G=>{A.onsuccess=H,H()}),C.continue=N,C.continuePrimaryKey=L,C.advance=j,H(),z},k(C)},_)})},count({query:f,trans:h}){const{index:p,range:m}=f;return new Promise((v,k)=>{const _=h.objectStore(u),b=p.isPrimaryKey?_:_.index(p.name),x=n(m),S=x?b.count(x):b.count();S.onsuccess=ae(P=>v(P.target.result)),S.onerror=$e(k)})}}}(o)),l={};return a.forEach(o=>l[o.name]=o),{stack:"dbcore",transaction:t.transaction.bind(t),table(o){if(!l[o])throw new Error(`Table '${o}' not found`);return l[o]},MIN_KEY:-1/0,MAX_KEY:Ir(e),schema:s}}function Wn({_novip:t},e){const r=e.db,n=function(s,i,{IDBKeyRange:a,indexedDB:l},o){return{dbcore:function(u,f){return f.reduce((h,{create:p})=>({...h,...p(h)}),u)}(aa(i,a,o),s.dbcore)}}(t._middlewares,r,t._deps,e);t.core=n.dbcore,t.tables.forEach(s=>{const i=s.name;t.core.schema.tables.some(a=>a.name===i)&&(s.core=t.core.table(i),t[i]instanceof t.Table&&(t[i].core=s.core))})}function kn({_novip:t},e,r,n){r.forEach(s=>{const i=n[s];e.forEach(a=>{const l=es(a,s);(!l||"value"in l&&l.value===void 0)&&(a===t.Transaction.prototype||a instanceof t.Transaction?ot(a,s,{get(){return this.table(s)},set(o){zs(this,s,{value:o,writable:!0,configurable:!0,enumerable:!0})}}):a[s]=new t.Table(s,i))})})}function Hn({_novip:t},e){e.forEach(r=>{for(let n in r)r[n]instanceof t.Table&&delete r[n]})}function oa(t,e){return t._cfg.version-e._cfg.version}function la(t,e,r,n){const s=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,s);i.create(r),i._completion.catch(n);const a=i._reject.bind(i),l=B.transless||B;mt(()=>{B.trans=i,B.transless=l,e===0?(fe(s).forEach(o=>{Kn(r,o,s[o].primKey,s[o].indexes)}),Wn(t,r),T.follow(()=>t.on.populate.fire(i)).catch(a)):function({_novip:o},c,u,f){const h=[],p=o._versions;let m=o._dbSchema=Yn(o,o.idbdb,f),v=!1;function k(){return h.length?T.resolve(h.shift()(u.idbtrans)).then(k):T.resolve()}return p.filter(_=>_._cfg.version>=c).forEach(_=>{h.push(()=>{const b=m,x=_._cfg.dbschema;Qn(o,b,f),Qn(o,x,f),m=o._dbSchema=x;const S=gi(b,x);S.add.forEach(E=>{Kn(f,E[0],E[1].primKey,E[1].indexes)}),S.change.forEach(E=>{if(E.recreate)throw new M.Upgrade("Not yet support for changing primary key");{const A=f.objectStore(E.name);E.add.forEach(O=>Gn(A,O)),E.change.forEach(O=>{A.deleteIndex(O.name),Gn(A,O)}),E.del.forEach(O=>A.deleteIndex(O))}});const P=_._cfg.contentUpgrade;if(P&&_._cfg.version>c){Wn(o,f),u._memoizedTables={},v=!0;let E=Ys(x);S.del.forEach(N=>{E[N]=b[N]}),Hn(o,[o.Transaction.prototype]),kn(o,[o.Transaction.prototype],fe(E),E),u.schema=E;const A=ts(P);let O;A&&tr();const C=T.follow(()=>{if(O=P(u),O&&A){var N=ut.bind(null,null);O.then(N,N)}});return O&&typeof O.then=="function"?T.resolve(O):C.then(()=>O)}}),h.push(b=>{(!v||!Xi)&&function(x,S){[].slice.call(S.db.objectStoreNames).forEach(P=>x[P]==null&&S.db.deleteObjectStore(P))}(_._cfg.dbschema,b),Hn(o,[o.Transaction.prototype]),kn(o,[o.Transaction.prototype],o._storeNames,o._dbSchema),u.schema=o._dbSchema})}),k().then(()=>{var _,b;b=f,fe(_=m).forEach(x=>{b.db.objectStoreNames.contains(x)||Kn(b,x,_[x].primKey,_[x].indexes)})})}(t,e,i,r).catch(a)})}function gi(t,e){const r={del:[],add:[],change:[]};let n;for(n in t)e[n]||r.del.push(n);for(n in e){const s=t[n],i=e[n];if(s){const a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||s.primKey.auto!==i.primKey.auto&&!En)a.recreate=!0,r.change.push(a);else{const l=s.idxByName,o=i.idxByName;let c;for(c in l)o[c]||a.del.push(c);for(c in o){const u=l[c],f=o[c];u?u.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,i])}return r}function Kn(t,e,r,n){const s=t.db.createObjectStore(e,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(i=>Gn(s,i)),s}function Gn(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Yn(t,e,r){const n={};return yn(e.objectStoreNames,0).forEach(s=>{const i=r.objectStore(s);let a=i.keyPath;const l=Ln(fi(a),a||"",!1,!1,!!i.autoIncrement,a&&typeof a!="string",!0),o=[];for(let u=0;u<i.indexNames.length;++u){const f=i.index(i.indexNames[u]);a=f.keyPath;var c=Ln(f.name,a,!!f.unique,!!f.multiEntry,!1,a&&typeof a!="string",!1);o.push(c)}n[s]=pi(s,l,o)}),n}function Qn({_novip:t},e,r){const n=r.db.objectStoreNames;for(let s=0;s<n.length;++s){const i=n[s],a=r.objectStore(i);t._hasGetAll="getAll"in a;for(let l=0;l<a.indexNames.length;++l){const o=a.indexNames[l],c=a.index(o).keyPath,u=typeof c=="string"?c:"["+yn(c).join("+")+"]";if(e[i]){const f=e[i].idxByName[u];f&&(f.name=o,delete e[i].idxByName[u],e[i].idxByName[o]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ne.WorkerGlobalScope&&ne instanceof ne.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class ua{_parseStoresSpec(e,r){fe(e).forEach(n=>{if(e[n]!==null){var s=e[n].split(",").map((a,l)=>{const o=(a=a.trim()).replace(/([&*]|\+\+)/g,""),c=/^\[/.test(o)?o.match(/^\[(.*)\]$/)[1].split("+"):o;return Ln(o,c||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),Se(c),l===0)}),i=s.shift();if(i.multi)throw new M.Schema("Primary key cannot be multi-valued");s.forEach(a=>{if(a.auto)throw new M.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new M.Schema("Index must have a name and cannot be an empty string")}),r[n]=pi(n,i,s)}})}stores(e){const r=this.db;this._cfg.storesSource=this._cfg.storesSource?Ie(this._cfg.storesSource,e):e;const n=r._versions,s={};let i={};return n.forEach(a=>{Ie(s,a._cfg.storesSource),i=a._cfg.dbschema={},a._parseStoresSpec(s,i)}),r._dbSchema=i,Hn(r,[r._allTables,r,r.Transaction.prototype]),kn(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],fe(i),i),r._storeNames=fe(i),this}upgrade(e){return this._cfg.contentUpgrade=ss(this._cfg.contentUpgrade||$,e),this}}function ls(t,e){let r=t._dbNamesDB;return r||(r=t._dbNamesDB=new Pt("__dbnames",{addons:[],indexedDB:t,IDBKeyRange:e}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function us(t){return t&&typeof t.databases=="function"}function Jn(t){return mt(function(){return B.letThrough=!0,t()})}function ca(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var r=function(){return indexedDB.databases().finally(e)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function da(t){const e=t._state,{indexedDB:r}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?pe(e.dbOpenError):t);et&&(e.openCanceller._stackHolder=At()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const n=e.openCanceller;function s(){if(e.openCanceller!==n)throw new M.DatabaseClosed("db.open() was cancelled")}let i=e.dbReadyResolve,a=null,l=!1;return T.race([n,(typeof navigator>"u"?T.resolve():ca()).then(()=>new T((o,c)=>{if(s(),!r)throw new M.MissingAPI;const u=t.name,f=e.autoSchema?r.open(u):r.open(u,Math.round(10*t.verno));if(!f)throw new M.MissingAPI;f.onerror=$e(c),f.onblocked=ae(t._fireOnBlocked),f.onupgradeneeded=ae(h=>{if(a=f.transaction,e.autoSchema&&!t._options.allowEmptyDB){f.onerror=Pr,a.abort(),f.result.close();const m=r.deleteDatabase(u);m.onsuccess=m.onerror=ae(()=>{c(new M.NoSuchDatabase(`Database ${u} doesnt exist`))})}else{a.onerror=$e(c);var p=h.oldVersion>Math.pow(2,62)?0:h.oldVersion;l=p<1,t._novip.idbdb=f.result,la(t,p/10,a,c)}},c),f.onsuccess=ae(()=>{a=null;const h=t._novip.idbdb=f.result,p=yn(h.objectStoreNames);if(p.length>0)try{const v=h.transaction((m=p).length===1?m[0]:m,"readonly");e.autoSchema?function({_novip:k},_,b){k.verno=_.version/10;const x=k._dbSchema=Yn(0,_,b);k._storeNames=yn(_.objectStoreNames,0),kn(k,[k._allTables],fe(x),x)}(t,h,v):(Qn(t,t._dbSchema,v),function(k,_){const b=gi(Yn(0,k.idbdb,_),k._dbSchema);return!(b.add.length||b.change.some(x=>x.add.length||x.change.length))}(t,v)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Wn(t,v)}catch{}var m;wr.push(t),h.onversionchange=ae(v=>{e.vcFired=!0,t.on("versionchange").fire(v)}),h.onclose=ae(v=>{t.on("close").fire(v)}),l&&function({indexedDB:v,IDBKeyRange:k},_){!us(v)&&_!=="__dbnames"&&ls(v,k).put({name:_}).catch($)}(t._deps,u),o()},c)}))]).then(()=>(s(),e.onReadyBeingFired=[],T.resolve(Jn(()=>t.on.ready.fire(t.vip))).then(function o(){if(e.onReadyBeingFired.length>0){let c=e.onReadyBeingFired.reduce(ss,$);return e.onReadyBeingFired=[],T.resolve(Jn(()=>c(t.vip))).then(o)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(o=>{e.dbOpenError=o;try{a&&a.abort()}catch{}return n===e.openCanceller&&t._close(),pe(o)}).finally(()=>{e.openComplete=!0,i()})}function Xn(t){var e=i=>t.next(i),r=s(e),n=s(i=>t.throw(i));function s(i){return a=>{var l=i(a),o=l.value;return l.done?o:o&&typeof o.then=="function"?o.then(r,n):Se(o)?Promise.all(o).then(r,n):r(o)}}return s(e)()}function ha(t,e,r){var n=arguments.length;if(n<2)throw new M.InvalidArgument("Too few arguments");for(var s=new Array(n-1);--n;)s[n-1]=arguments[n];r=s.pop();var i=Qs(s);return[t,i,r]}function yi(t,e,r,n,s){return T.resolve().then(()=>{const i=B.transless||B,a=t._createTransaction(e,r,t._dbSchema,n),l={trans:a,transless:i};if(n)a.idbtrans=n.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(f){return f.name===ns.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>yi(t,e,r,null,s))):pe(f)}const o=ts(s);let c;o&&tr();const u=T.follow(()=>{if(c=s.call(a,a),c)if(o){var f=ut.bind(null,null);c.then(f,f)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=Xn(c))},l);return(c&&typeof c.then=="function"?T.resolve(c).then(f=>a.active?f:pe(new M.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>c)).then(f=>(n&&a._resolve(),a._completion.then(()=>f))).catch(f=>(a._reject(f),pe(f)))})}function nn(t,e,r){const n=Se(t)?t.slice():[t];for(let s=0;s<r;++s)n.push(e);return n}const fa={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const r=t.table(e),{schema:n}=r,s={},i=[];function a(u,f,h){const p=xr(u),m=s[p]=s[p]||[],v=u==null?0:typeof u=="string"?1:u.length,k=f>0,_={...h,isVirtual:k,keyTail:f,keyLength:v,extractKey:zn(u),unique:!k&&h.unique};return m.push(_),_.isPrimaryKey||i.push(_),v>1&&a(v===2?u[0]:u.slice(0,v-1),f+1,h),m.sort((b,x)=>b.keyTail-x.keyTail),_}const l=a(n.primaryKey.keyPath,0,n.primaryKey);s[":id"]=[l];for(const u of n.indexes)a(u.keyPath,0,u);function o(u){const f=u.query.index;return f.isVirtual?{...u,query:{index:f,range:(h=u.query.range,p=f.keyTail,{type:h.type===1?2:h.type,lower:nn(h.lower,h.lowerOpen?t.MAX_KEY:t.MIN_KEY,p),lowerOpen:!0,upper:nn(h.upper,h.upperOpen?t.MIN_KEY:t.MAX_KEY,p),upperOpen:!0})}}:u;var h,p}return{...r,schema:{...n,primaryKey:l,indexes:i,getIndexByKeyPath:function(u){const f=s[xr(u)];return f&&f[0]}},count:u=>r.count(o(u)),query:u=>r.query(o(u)),openCursor(u){const{keyTail:f,isVirtual:h,keyLength:p}=u.query.index;return h?r.openCursor(o(u)).then(m=>m&&function(v){return Object.create(v,{continue:{value:function(_){_!=null?v.continue(nn(_,u.reverse?t.MAX_KEY:t.MIN_KEY,f)):u.unique?v.continue(v.key.slice(0,p).concat(u.reverse?t.MIN_KEY:t.MAX_KEY,f)):v.continue()}},continuePrimaryKey:{value(_,b){v.continuePrimaryKey(nn(_,t.MAX_KEY,f),b)}},primaryKey:{get:()=>v.primaryKey},key:{get(){const _=v.key;return p===1?_[0]:_.slice(0,p)}},value:{get:()=>v.value}})}(m)):r.openCursor(u)}}}}}};function cs(t,e,r,n){return r=r||{},n=n||"",fe(t).forEach(s=>{if(Fe(e,s)){var i=t[s],a=e[s];if(typeof i=="object"&&typeof a=="object"&&i&&a){const l=Cn(i);l!==Cn(a)?r[n+s]=e[s]:l==="Object"?cs(i,a,r,n+s+"."):i!==a&&(r[n+s]=e[s])}else i!==a&&(r[n+s]=e[s])}else r[n+s]=void 0}),fe(e).forEach(s=>{Fe(t,s)||(r[n+s]=e[s])}),r}const pa={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const r=t.table(e),{primaryKey:n}=r.schema;return{...r,mutate(i){const a=B.trans,{deleting:l,creating:o,updating:c}=a.table(e).hook;switch(i.type){case"add":if(o.fire===$)break;return a._promise("readwrite",()=>u(i),!0);case"put":if(o.fire===$&&c.fire===$)break;return a._promise("readwrite",()=>u(i),!0);case"delete":if(l.fire===$)break;return a._promise("readwrite",()=>u(i),!0);case"deleteRange":if(l.fire===$)break;return a._promise("readwrite",()=>function(h){return f(h.trans,h.range,1e4)}(i),!0)}return r.mutate(i);function u(h){const p=B.trans,m=h.keys||function(v,k){return k.type==="delete"?k.keys:k.keys||k.values.map(v.extractKey)}(n,h);if(!m)throw new Error("Keys missing");return(h=h.type==="add"||h.type==="put"?{...h,keys:m}:{...h}).type!=="delete"&&(h.values=[...h.values]),h.keys&&(h.keys=[...h.keys]),function(v,k,_){return k.type==="add"?Promise.resolve([]):v.getMany({trans:k.trans,keys:_,cache:"immutable"})}(r,h,m).then(v=>{const k=m.map((_,b)=>{const x=v[b],S={onerror:null,onsuccess:null};if(h.type==="delete")l.fire.call(S,_,x,p);else if(h.type==="add"||x===void 0){const P=o.fire.call(S,_,h.values[b],p);_==null&&P!=null&&(_=P,h.keys[b]=_,n.outbound||He(h.values[b],n.keyPath,_))}else{const P=cs(x,h.values[b]),E=c.fire.call(S,P,_,x,p);if(E){const A=h.values[b];Object.keys(E).forEach(O=>{Fe(A,O)?A[O]=E[O]:He(A,O,E[O])})}}return S});return r.mutate(h).then(({failures:_,results:b,numFailures:x,lastResult:S})=>{for(let P=0;P<m.length;++P){const E=b?b[P]:m[P],A=k[P];E==null?A.onerror&&A.onerror(_[P]):A.onsuccess&&A.onsuccess(h.type==="put"&&v[P]?h.values[P]:E)}return{failures:_,results:b,numFailures:x,lastResult:S}}).catch(_=>(k.forEach(b=>b.onerror&&b.onerror(_)),Promise.reject(_)))})}function f(h,p,m){return r.query({trans:h,values:!1,query:{index:n,range:p},limit:m}).then(({result:v})=>u({type:"delete",keys:v,trans:h}).then(k=>k.numFailures>0?Promise.reject(k.failures[0]):v.length<m?{failures:[],numFailures:0,lastResult:void 0}:f(h,{...p,lower:v[v.length-1],lowerOpen:!0},m)))}}}}})};function mi(t,e,r){try{if(!e||e.keys.length<t.length)return null;const n=[];for(let s=0,i=0;s<e.keys.length&&i<t.length;++s)Pe(e.keys[s],t[i])===0&&(n.push(r?Ar(e.values[s]):e.values[s]),++i);return n.length===t.length?n:null}catch{return null}}const ga={stack:"dbcore",level:-1,create:t=>({table:e=>{const r=t.table(e);return{...r,getMany:n=>{if(!n.cache)return r.getMany(n);const s=mi(n.keys,n.trans._cache,n.cache==="clone");return s?T.resolve(s):r.getMany(n).then(i=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?Ar(i):i},i))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),r.mutate(n))}}})};function ds(t){return!("from"in t)}const st=function(t,e){if(!this){const r=new st;return t&&"d"in t&&Ie(r,t),r}Ie(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function Kr(t,e,r){const n=Pe(e,r);if(isNaN(n))return;if(n>0)throw RangeError();if(ds(t))return Ie(t,{from:e,to:r,d:1});const s=t.l,i=t.r;if(Pe(r,t.from)<0)return s?Kr(s,e,r):t.l={from:e,to:r,d:1,l:null,r:null},Ks(t);if(Pe(e,t.to)>0)return i?Kr(i,e,r):t.r={from:e,to:r,d:1,l:null,r:null},Ks(t);Pe(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),Pe(r,t.to)>0&&(t.to=r,t.r=null,t.d=t.l?t.l.d+1:1);const a=!t.r;s&&!t.l&&xn(t,s),i&&a&&xn(t,i)}function xn(t,e){ds(e)||function r(n,{from:s,to:i,l:a,r:l}){Kr(n,s,i),a&&r(n,a),l&&r(n,l)}(t,e)}function ya(t,e){const r=Zn(e);let n=r.next();if(n.done)return!1;let s=n.value;const i=Zn(t);let a=i.next(s.from),l=a.value;for(;!n.done&&!a.done;){if(Pe(l.from,s.to)<=0&&Pe(l.to,s.from)>=0)return!0;Pe(s.from,l.from)<0?s=(n=r.next(l.from)).value:l=(a=i.next(s.from)).value}return!1}function Zn(t){let e=ds(t)?null:{s:0,n:t};return{next(r){const n=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&Pe(r,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||Pe(r,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Ks(t){var e,r;const n=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((r=t.l)===null||r===void 0?void 0:r.d)||0),s=n>1?"r":n<-1?"l":"";if(s){const i=s==="r"?"l":"r",a={...t},l=t[s];t.from=l.from,t.to=l.to,t[s]=l[s],a[s]=l[i],t[i]=a,a.d=As(a)}t.d=As(t)}function As({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}$t(st.prototype,{add(t){return xn(this,t),this},addKey(t){return Kr(this,t,t),this},addKeys(t){return t.forEach(e=>Kr(this,e,e)),this},[On](){return Zn(this)}});const ma={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,r=new st(t.MIN_KEY,t.MAX_KEY);return{...t,table:n=>{const s=t.table(n),{schema:i}=s,{primaryKey:a}=i,{extractKey:l,outbound:o}=a,c={...s,mutate:h=>{const p=h.trans,m=p.mutatedParts||(p.mutatedParts={}),v=E=>{const A=`idb://${e}/${n}/${E}`;return m[A]||(m[A]=new st)},k=v(""),_=v(":dels"),{type:b}=h;let[x,S]=h.type==="deleteRange"?[h.range]:h.type==="delete"?[h.keys]:h.values.length<50?[[],h.values]:[];const P=h.trans._cache;return s.mutate(h).then(E=>{if(Se(x)){b!=="delete"&&(x=E.results),k.addKeys(x);const A=mi(x,P);A||b==="add"||_.addKeys(x),(A||S)&&function(O,C,N,L){function j(V){const F=O(V.name||"");function z(G){return G!=null?V.extractKey(G):null}const H=G=>V.multiEntry&&Se(G)?G.forEach(se=>F.addKey(se)):F.addKey(G);(N||L).forEach((G,se)=>{const ue=N&&z(N[se]),te=L&&z(L[se]);Pe(ue,te)!==0&&(ue!=null&&H(ue),te!=null&&H(te))})}C.indexes.forEach(j)}(v,i,A,S)}else if(x){const A={from:x.lower,to:x.upper};_.add(A),k.add(A)}else k.add(r),_.add(r),i.indexes.forEach(A=>v(A.name).add(r));return E})}},u=({query:{index:h,range:p}})=>{var m,v;return[h,new st((m=p.lower)!==null&&m!==void 0?m:t.MIN_KEY,(v=p.upper)!==null&&v!==void 0?v:t.MAX_KEY)]},f={get:h=>[a,new st(h.key)],getMany:h=>[a,new st().addKeys(h.keys)],count:u,query:u,openCursor:u};return fe(f).forEach(h=>{c[h]=function(p){const{subscr:m}=B;if(m){const v=S=>{const P=`idb://${e}/${n}/${S}`;return m[P]||(m[P]=new st)},k=v(""),_=v(":dels"),[b,x]=f[h](p);if(v(b.name||"").add(x),!b.isPrimaryKey){if(h!=="count"){const S=h==="query"&&o&&p.values&&s.query({...p,values:!1});return s[h].apply(this,arguments).then(P=>{if(h==="query"){if(o&&p.values)return S.then(({result:A})=>(k.addKeys(A),P));const E=p.values?P.result.map(l):P.result;p.values?k.addKeys(E):_.addKeys(E)}else if(h==="openCursor"){const E=P,A=p.values;return E&&Object.create(E,{key:{get:()=>(_.addKey(E.primaryKey),E.key)},primaryKey:{get(){const O=E.primaryKey;return _.addKey(O),O}},value:{get:()=>(A&&k.addKey(E.primaryKey),E.value)}})}return P})}_.add(r)}}return s[h].apply(this,arguments)}}),c}}}};class Pt{constructor(e,r){this._middlewares={},this.verno=0;const n=Pt.dependencies;this._options=r={addons:Pt.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};const{addons:s}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$,dbReadyPromise:null,cancelOpen:$,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;i.dbReadyPromise=new T(l=>{i.dbReadyResolve=l}),i.openCanceller=new T((l,o)=>{i.cancelOpen=o}),this._state=i,this.name=e,this.on=kr(this,"populate","blocked","versionchange","close",{ready:[ss,$]}),this.on.ready.subscribe=Ws(this.on.ready.subscribe,l=>(o,c)=>{Pt.vip(()=>{const u=this._state;if(u.openComplete)u.dbOpenError||T.resolve().then(o),c&&l(o);else if(u.onReadyBeingFired)u.onReadyBeingFired.push(o),c&&l(o);else{l(o);const f=this;c||l(function h(){f.on.ready.unsubscribe(o),f.on.ready.unsubscribe(h)})}})}),this.Collection=(a=this,yr(ea.prototype,function(l,o){this.db=a;let c=ci,u=null;if(o)try{c=o()}catch(m){u=m}const f=l._ctx,h=f.table,p=h.hook.reading.fire;this._ctx={table:h,index:f.index,isPrimKey:!f.index||h.schema.primKey.keyPath&&f.index===h.schema.primKey.name,range:c,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:u,or:f.or,valueMapper:p!==Sr?p:null}})),this.Table=function(l){return yr($i.prototype,function(o,c,u){this.db=l,this._tx=u,this.name=o,this.schema=c,this.hook=l._allTables[o]?l._allTables[o].hook:kr(null,{creating:[qi,$],reading:[Vi,Sr],updating:[Li,$],deleting:[Ui,$]})})}(this),this.Transaction=function(l){return yr(sa.prototype,function(o,c,u,f,h){this.db=l,this.mode=o,this.storeNames=c,this.schema=u,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=kr(this,"complete","error","abort"),this.parent=h||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new T((p,m)=>{this._resolve=p,this._reject=m}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},p=>{var m=this.active;return this.active=!1,this.on.error.fire(p),this.parent?this.parent._reject(p):m&&this.idbtrans&&this.idbtrans.abort(),pe(p)})})}(this),this.Version=function(l){return yr(ua.prototype,function(o){this.db=l,this._cfg={version:o,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(l){return yr(hi.prototype,function(o,c,u){this.db=l,this._ctx={table:o,index:c===":id"?null:c,or:u};const f=l._deps.indexedDB;if(!f)throw new M.MissingAPI;this._cmp=this._ascending=f.cmp.bind(f),this._descending=(h,p)=>f.cmp(p,h),this._max=(h,p)=>f.cmp(h,p)>0?h:p,this._min=(h,p)=>f.cmp(h,p)<0?h:p,this._IDBKeyRange=l._deps.IDBKeyRange})}(this),this.on("versionchange",l=>{l.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",l=>{!l.newVersion||l.newVersion<l.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${l.oldVersion/10}`)}),this._maxKey=Ir(r.IDBKeyRange),this._createTransaction=(l,o,c,u)=>new this.Transaction(l,o,c,this._options.chromeTransactionDurability,u),this._fireOnBlocked=l=>{this.on("blocked").fire(l),wr.filter(o=>o.name===this.name&&o!==this&&!o._state.vcFired).map(o=>o.on("versionchange").fire(l))},this.use(fa),this.use(pa),this.use(ma),this.use(ga),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(l=>l(this))}version(e){if(isNaN(e)||e<.1)throw new M.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new M.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const r=this._versions;var n=r.filter(s=>s._cfg.version===e)[0];return n||(n=new this.Version(e),r.push(n),r.sort(oa),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||B.letThrough||this._vip)?e():new T((r,n)=>{if(this._state.openComplete)return n(new M.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void n(new M.DatabaseClosed);this.open().catch($)}this._state.dbReadyPromise.then(r,n)}).then(e)}use({stack:e,create:r,level:n,name:s}){s&&this.unuse({stack:e,name:s});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:r,level:n??10,name:s}),i.sort((a,l)=>a.level-l.level),this}unuse({stack:e,name:r,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(s=>n?s.create!==n:!!r&&s.name!==r)),this}open(){return da(this)}_close(){const e=this._state,r=wr.indexOf(this);if(r>=0&&wr.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new T(n=>{e.dbReadyResolve=n}),e.openCanceller=new T((n,s)=>{e.cancelOpen=s})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new M.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,r=this._state;return new T((n,s)=>{const i=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=ae(()=>{(function({indexedDB:l,IDBKeyRange:o},c){!us(l)&&c!=="__dbnames"&&ls(l,o).delete(c).catch($)})(this._deps,this.name),n()}),a.onerror=$e(s),a.onblocked=this._fireOnBlocked};if(e)throw new M.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return fe(this._allTables).map(e=>this._allTables[e])}transaction(){const e=ha.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,r,n){let s=B.trans;s&&s.db===this&&e.indexOf("!")===-1||(s=null);const i=e.indexOf("?")!==-1;let a,l;e=e.replace("!","").replace("?","");try{if(l=r.map(c=>{var u=c instanceof this.Table?c.name:c;if(typeof u!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),e=="r"||e==="readonly")a="readonly";else{if(e!="rw"&&e!="readwrite")throw new M.InvalidArgument("Invalid transaction mode: "+e);a="readwrite"}if(s){if(s.mode==="readonly"&&a==="readwrite"){if(!i)throw new M.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&l.forEach(c=>{if(s&&s.storeNames.indexOf(c)===-1){if(!i)throw new M.SubTransaction("Table "+c+" not included in parent transaction.");s=null}}),i&&s&&!s.active&&(s=null)}}catch(c){return s?s._promise(null,(u,f)=>{f(c)}):pe(c)}const o=yi.bind(null,this,a,l,s,n);return s?s._promise(a,o,"lock"):B.trans?rr(B.transless,()=>this._whenReady(o)):this._whenReady(o)}table(e){if(!Fe(this._allTables,e))throw new M.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const ba=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class va{constructor(e){this._subscribe=e}subscribe(e,r,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:r,complete:n})}[ba](){return this}}function bi(t,e){return fe(e).forEach(r=>{xn(t[r]||(t[r]=new st),e[r])}),t}function fn(t){return new va(e=>{const r=ts(t);let n=!1,s={},i={};const a={get closed(){return n},unsubscribe:()=>{n=!0,vt.storagemutated.unsubscribe(u)}};e.start&&e.start(a);let l=!1,o=!1;function c(){return fe(i).some(h=>s[h]&&ya(s[h],i[h]))}const u=h=>{bi(s,h),c()&&f()},f=()=>{if(l||n)return;s={};const h={},p=function(m){r&&tr();const v=()=>mt(t,{subscr:m,trans:null}),k=B.trans?rr(B.transless,v):v();return r&&k.then(ut,ut),k}(h);o||(vt("storagemutated",u),o=!0),l=!0,Promise.resolve(p).then(m=>{l=!1,n||(c()?f():(s={},i=h,e.next&&e.next(m)))},m=>{l=!1,e.error&&e.error(m),a.unsubscribe()})};return f(),a})}let $n;try{$n={indexedDB:ne.indexedDB||ne.mozIndexedDB||ne.webkitIndexedDB||ne.msIndexedDB,IDBKeyRange:ne.IDBKeyRange||ne.webkitIDBKeyRange}}catch{$n={indexedDB:null,IDBKeyRange:null}}const xt=Pt;function pn(t){let e=at;try{at=!0,vt.storagemutated.fire(t)}finally{at=e}}$t(xt,{...on,delete:t=>new xt(t,{addons:[]}).delete(),exists:t=>new xt(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:r}){return us(e)?Promise.resolve(e.databases()).then(n=>n.map(s=>s.name).filter(s=>s!=="__dbnames")):ls(e,r).toCollection().primaryKeys()}(xt.dependencies).then(t)}catch{return pe(new M.MissingAPI)}},defineClass:()=>function(t){Ie(this,t)},ignoreTransaction:t=>B.trans?rr(B.transless,t):t(),vip:Jn,async:function(t){return function(){try{var e=Xn(t.apply(this,arguments));return e&&typeof e.then=="function"?e:T.resolve(e)}catch(r){return pe(r)}}},spawn:function(t,e,r){try{var n=Xn(t.apply(r,e||[]));return n&&typeof n.then=="function"?n:T.resolve(n)}catch(s){return pe(s)}},currentTransaction:{get:()=>B.trans||null},waitFor:function(t,e){const r=T.resolve(typeof t=="function"?xt.ignoreTransaction(t):t).timeout(e||6e4);return B.trans?B.trans.waitFor(r):r},Promise:T,debug:{get:()=>et,set:t=>{Xs(t,t==="dexie"?()=>!0:ui)}},derive:Qt,extend:Ie,props:$t,override:Ws,Events:kr,on:vt,liveQuery:fn,extendObservabilitySet:bi,getByKeyPath:lt,setByKeyPath:He,delByKeyPath:function(t,e){typeof e=="string"?He(t,e,void 0):"length"in e&&[].map.call(e,function(r){He(t,r,void 0)})},shallowClone:Ys,deepClone:Ar,getObjectDiff:cs,cmp:Pe,asap:Hs,minKey:-(1/0),addons:[],connections:wr,errnames:ns,dependencies:$n,semVer:"3.2.3",version:"3.2.3".split(".").map(t=>parseInt(t)).reduce((t,e,r)=>t+e/Math.pow(10,2*r))}),xt.maxKey=Ir(xt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(vt("storagemutated",t=>{if(!at){let e;En?(e=document.createEvent("CustomEvent"),e.initCustomEvent("x-storagemutated-1",!0,!0,t)):e=new CustomEvent("x-storagemutated-1",{detail:t}),at=!0,dispatchEvent(e),at=!1}}),addEventListener("x-storagemutated-1",({detail:t})=>{at||pn(t)}));let at=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel("x-storagemutated-1");typeof t.unref=="function"&&t.unref(),vt("storagemutated",e=>{at||t.postMessage(e)}),t.onmessage=e=>{e.data&&pn(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){vt("storagemutated",e=>{try{at||(typeof localStorage<"u"&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:"x-storagemutated-1",changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key==="x-storagemutated-1"){const r=JSON.parse(e.newValue);r&&pn(r.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type==="x-storagemutated-1"&&pn(e.changedParts)})}T.rejectionMapper=function(t,e){if(!t||t instanceof Jt||t instanceof TypeError||t instanceof SyntaxError||!t.name||!ws[t.name])return t;var r=new ws[t.name](e||t.message,t);return"stack"in t&&ot(r,"stack",{get:function(){return this.inner.stack}}),r},Xs(et,ui);class _a extends Pt{constructor(){super("database");gr(this,"users");gr(this,"emails");gr(this,"pages");gr(this,"settings");this.version(1).stores({users:"++id, username",emails:"++id, userID",pages:"++id, emailID",settings:"++id"})}}const ie=new _a;function Cs(t,e,r){const n=t.slice();return n[111]=e[r],n}function Os(t,e,r){const n=t.slice();return n[114]=e[r],n}function Ts(t){let e,r,n,s,i,a,l,o,c;return{c(){e=I("div"),r=I("div"),n=I("button"),s=Q("Download Settings"),i=q(),a=I("a"),l=Q("Download"),this.h()},l(u){e=K(u,"DIV",{class:!0});var f=D(e);r=K(f,"DIV",{});var h=D(r);n=K(h,"BUTTON",{type:!0,class:!0});var p=D(n);s=J(p,"Download Settings"),p.forEach(w),i=U(h),a=K(h,"A",{download:!0,href:!0});var m=D(a);l=J(m,"Download"),m.forEach(w),h.forEach(w),f.forEach(w),this.h()},h(){d(n,"type","button"),d(n,"class","w-full block px-2 py-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white rounded-b-lg"),a.hidden=!0,d(a,"download","my-password-gen-settings.json"),d(a,"href",t[18]),d(e,"class","text-sm text-gray-700 dark:text-gray-200")},m(u,f){ee(u,e,f),g(e,r),g(r,n),g(n,s),g(r,i),g(r,a),g(a,l),t[70](a),o||(c=W(n,"click",t[64]),o=!0)},p(u,f){f[0]&262144&&d(a,"href",u[18])},d(u){u&&w(e),t[70](null),o=!1,c()}}}function js(t){let e,r,n,s,i,a,l,o,c,u,f,h;return{c(){e=I("div"),r=I("div"),n=Q(t[38]),s=q(),i=I("button"),a=I("span"),l=Q("Close"),o=q(),c=oe("svg"),u=oe("path"),this.h()},l(p){e=K(p,"DIV",{id:!0,class:!0,role:!0});var m=D(e);r=K(m,"DIV",{class:!0});var v=D(r);n=J(v,t[38]),v.forEach(w),s=U(m),i=K(m,"BUTTON",{type:!0,class:!0,"aria-label":!0});var k=D(i);a=K(k,"SPAN",{class:!0});var _=D(a);l=J(_,"Close"),_.forEach(w),o=U(k),c=le(k,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var b=D(c);u=le(b,"path",{"fill-rule":!0,d:!0,"clip-rule":!0});var x=D(u);x.forEach(w),b.forEach(w),k.forEach(w),m.forEach(w),this.h()},h(){d(r,"class","ml-3 text-base font-medium w-full"),d(a,"class","sr-only"),d(u,"fill-rule","evenodd"),d(u,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),d(u,"clip-rule","evenodd"),d(c,"class","w-5 h-5"),d(c,"fill","currentColor"),d(c,"viewBox","0 0 20 20"),d(c,"xmlns","http://www.w3.org/2000/svg"),d(i,"type","button"),d(i,"class","ml-auto -mx-1.5 -my-1.5 bg-red-50 text-red-500 rounded-lg focus:ring-2 focus:ring-red-400 p-1.5 hover:bg-red-200 inline-flex h-8 w-8 dark:bg-gray-700 dark:text-red-400 dark:hover:bg-gray-600"),d(i,"aria-label","Close"),d(e,"id","alert-2"),d(e,"class","flex p-4 mb-4 text-red-800 border-t-4 border-red-300 bg-red-50 dark:text-red-400 dark:bg-gray-700 dark:border-red-800 rounded-xl"),d(e,"role","alert")},m(p,m){ee(p,e,m),g(e,r),g(r,n),g(e,s),g(e,i),g(i,a),g(a,l),g(i,o),g(i,c),g(c,u),f||(h=W(i,"click",t[61]),f=!0)},p(p,m){m[1]&128&&Yt(n,p[38])},d(p){p&&w(e),f=!1,h()}}}function Bs(t){let e,r,n,s,i,a,l,o,c,u,f,h;return{c(){e=I("div"),r=I("div"),n=Q(t[39]),s=q(),i=I("button"),a=I("span"),l=Q("Close"),o=q(),c=oe("svg"),u=oe("path"),this.h()},l(p){e=K(p,"DIV",{id:!0,class:!0,role:!0});var m=D(e);r=K(m,"DIV",{class:!0});var v=D(r);n=J(v,t[39]),v.forEach(w),s=U(m),i=K(m,"BUTTON",{type:!0,class:!0,"aria-label":!0});var k=D(i);a=K(k,"SPAN",{class:!0});var _=D(a);l=J(_,"Close"),_.forEach(w),o=U(k),c=le(k,"svg",{"aria-hidden":!0,class:!0,fill:!0,viewBox:!0,xmlns:!0});var b=D(c);u=le(b,"path",{"fill-rule":!0,d:!0,"clip-rule":!0});var x=D(u);x.forEach(w),b.forEach(w),k.forEach(w),m.forEach(w),this.h()},h(){d(r,"class","ml-3 text-base font-medium w-full"),d(a,"class","sr-only"),d(u,"fill-rule","evenodd"),d(u,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),d(u,"clip-rule","evenodd"),d(c,"aria-hidden","true"),d(c,"class","w-5 h-5"),d(c,"fill","currentColor"),d(c,"viewBox","0 0 20 20"),d(c,"xmlns","http://www.w3.org/2000/svg"),d(i,"type","button"),d(i,"class","ml-auto -mx-1.5 -my-1.5 bg-green-50 text-green-500 rounded-lg focus:ring-2 focus:ring-green-400 p-1.5 hover:bg-green-200 inline-flex h-8 w-8 dark:bg-gray-700 dark:text-green-400 dark:hover:bg-gray-600"),d(i,"aria-label","Close"),d(e,"id","alert-3"),d(e,"class","flex p-4 mb-4 text-green-800 border-t-4 border-green-300 bg-green-50 dark:text-green-400 dark:bg-gray-700 dark:border-green-800 rounded-xl"),d(e,"role","alert")},m(p,m){ee(p,e,m),g(e,r),g(r,n),g(e,s),g(e,i),g(i,a),g(a,l),g(i,o),g(i,c),g(c,u),f||(h=W(i,"click",t[62]),f=!0)},p(p,m){m[1]&256&&Yt(n,p[39])},d(p){p&&w(e),f=!1,h()}}}function wa(t){let e,r,n,s,i,a,l,o,c,u,f,h,p,m,v,k,_,b,x,S,P,E,A,O,C,N,L,j=t[40]&&Ns(t),V=t[2]!==void 0&&Ms(t),F=(t[14]||t[13]!==void 0)&&qs(t);return{c(){e=I("div"),r=I("div"),n=I("button"),s=I("div"),i=oe("svg"),a=oe("path"),o=q(),c=I("input"),u=q(),f=I("datalist"),j&&j.c(),h=q(),p=I("button"),m=I("div"),v=oe("svg"),k=oe("path"),b=q(),V&&V.c(),x=q(),S=I("div"),P=I("div"),E=I("button"),A=Q("Generate"),C=q(),F&&F.c(),this.h()},l(z){e=K(z,"DIV",{class:!0});var H=D(e);r=K(H,"DIV",{class:!0});var G=D(r);n=K(G,"BUTTON",{type:!0,class:!0});var se=D(n);s=K(se,"DIV",{class:!0});var ue=D(s);i=le(ue,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0,xmlns:!0,"aria-hidden":!0});var te=D(i);a=le(te,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),D(a).forEach(w),te.forEach(w),ue.forEach(w),se.forEach(w),o=U(G),c=K(G,"INPUT",{"aria-label":!0,type:!0,list:!0,placeholder:!0,class:!0}),u=U(G),f=K(G,"DATALIST",{id:!0});var re=D(f);j&&j.l(re),re.forEach(w),h=U(G),p=K(G,"BUTTON",{type:!0,class:!0});var _e=D(p);m=K(_e,"DIV",{class:!0});var Be=D(m);v=le(Be,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0,xmlns:!0,"aria-hidden":!0});var Ke=D(v);k=le(Ke,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),D(k).forEach(w),Ke.forEach(w),Be.forEach(w),_e.forEach(w),G.forEach(w),b=U(H),V&&V.l(H),H.forEach(w),x=U(z),S=K(z,"DIV",{class:!0});var ge=D(S);P=K(ge,"DIV",{class:!0});var xe=D(P);E=K(xe,"BUTTON",{type:!0,class:!0});var ce=D(E);A=J(ce,"Generate"),ce.forEach(w),xe.forEach(w),C=U(ge),F&&F.l(ge),ge.forEach(w),this.h()},h(){d(a,"stroke-linecap","round"),d(a,"stroke-linejoin","round"),d(a,"d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"),d(i,"class","w-5 h-5 text-white"),d(i,"fill","none"),d(i,"stroke","currentColor"),d(i,"stroke-width","1.5"),d(i,"viewBox","0 0 24 24"),d(i,"xmlns","http://www.w3.org/2000/svg"),d(i,"aria-hidden","true"),d(s,"class","absolute h-0 w-0 right-7 bottom-8"),n.disabled=l=!t[2],d(n,"type","button"),d(n,"class","relative text-white disabled:bg-red-300 enabled:bg-red-700 enabled:hover:bg-red-800 enabled:focus:outline-none enabled:focus:ring-4 enabled:focus:ring-red-300 font-medium rounded-l-full text-sm px-5 py-2.5 text-center disabled:dark:bg-red-300 enabled:dark:bg-red-600 enabled:dark:hover:bg-red-700 enabled:dark:focus:ring-red-900"),c.autofocus=!0,d(c,"aria-label","Email"),d(c,"type","text"),d(c,"list","emailList"),d(c,"placeholder","Email"),d(c,"class","bg-gray-50 border border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),d(f,"id","emailList"),d(k,"stroke-linecap","round"),d(k,"stroke-linejoin","round"),d(k,"d","M12 4.5v15m7.5-7.5h-15"),d(v,"class","w-5 h-5 text-white"),d(v,"fill","none"),d(v,"stroke","currentColor"),d(v,"stroke-width","2.0"),d(v,"viewBox","0 0 24 24"),d(v,"xmlns","http://www.w3.org/2000/svg"),d(v,"aria-hidden","true"),d(m,"class","absolute h-0 w-0 right-8 bottom-8"),p.disabled=_=t[2]!==void 0||t[0]==="",d(p,"type","button"),d(p,"class","relative text-white disabled:bg-green-300 enabled:bg-green-700 enabled:hover:bg-green-800 enabled:focus:outline-none enabled:focus:ring-4 enabled:focus:ring-green-300 font-medium rounded-r-full text-sm px-5 py-2.5 text-center disabled:dark:bg-green-300 enabled:dark:bg-green-600 enabled:dark:hover:bg-green-700 enabled:dark:focus:ring-green-800"),d(r,"class","flex flex-row pt-8 px-8"),d(e,"class","flex flex-col justify-around gap-4 w-full"),d(E,"type","button"),E.disabled=O=t[11]===void 0,d(E,"class","w-[80%] disabled:hover:cursor-not-allowed text-white enabled:bg-blue-700 disabled:bg-blue-400 enabled:hover:bg-blue-800 enabled:enabled:focus:ring-4 enabled:focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 enabled:dark:bg-blue-600 enabled:dark:hover:bg-blue-700 enabled:focus:outline-none enabled:dark:focus:ring-blue-800"),d(P,"class","w-full flex justify-center"),d(S,"class","m-8 w-full flex flex-col items-center")},m(z,H){ee(z,e,H),g(e,r),g(r,n),g(n,s),g(s,i),g(i,a),t[84](n),g(r,o),g(r,c),t[85](c),je(c,t[0]),g(r,u),g(r,f),j&&j.m(f,null),g(r,h),g(r,p),g(p,m),g(m,v),g(v,k),t[87](p),g(e,b),V&&V.m(e,null),ee(z,x,H),ee(z,S,H),g(S,P),g(P,E),g(E,A),t[92](E),g(S,C),F&&F.m(S,null),c.focus(),N||(L=[W(n,"click",t[50]),W(c,"input",t[86]),W(c,"keydown",t[52]),W(p,"click",t[51]),W(E,"click",t[57]),W(E,"keydown",t[56])],N=!0)},p(z,H){H[0]&4&&l!==(l=!z[2])&&(n.disabled=l),H[0]&1&&c.value!==z[0]&&je(c,z[0]),z[40]?j?j.p(z,H):(j=Ns(z),j.c(),j.m(f,null)):j&&(j.d(1),j=null),H[0]&5&&_!==(_=z[2]!==void 0||z[0]==="")&&(p.disabled=_),z[2]!==void 0?V?V.p(z,H):(V=Ms(z),V.c(),V.m(e,null)):V&&(V.d(1),V=null),H[0]&2048&&O!==(O=z[11]===void 0)&&(E.disabled=O),z[14]||z[13]!==void 0?F?F.p(z,H):(F=qs(z),F.c(),F.m(S,null)):F&&(F.d(1),F=null)},d(z){z&&w(e),t[84](null),t[85](null),j&&j.d(),t[87](null),V&&V.d(),z&&w(x),z&&w(S),t[92](null),F&&F.d(),N=!1,er(L)}}}function ka(t){let e,r,n,s,i,a,l,o,c,u,f,h,p,m,v,k;function _(S,P){return S[8]?Da:Sa}let b=_(t),x=b(t);return{c(){e=I("div"),r=I("div"),n=I("div"),s=I("input"),i=q(),a=I("div"),l=I("div"),x.c(),o=q(),c=I("div"),u=I("button"),f=Q("Log in"),h=q(),p=I("button"),m=Q("Register"),this.h()},l(S){e=K(S,"DIV",{class:!0});var P=D(e);r=K(P,"DIV",{class:!0});var E=D(r);n=K(E,"DIV",{class:!0});var A=D(n);s=K(A,"INPUT",{type:!0,"aria-label":!0,placeholder:!0,class:!0}),A.forEach(w),E.forEach(w),i=U(P),a=K(P,"DIV",{class:!0});var O=D(a);l=K(O,"DIV",{class:!0});var C=D(l);x.l(C),C.forEach(w),O.forEach(w),P.forEach(w),o=U(S),c=K(S,"DIV",{class:!0});var N=D(c);u=K(N,"BUTTON",{type:!0,class:!0});var L=D(u);f=J(L,"Log in"),L.forEach(w),h=U(N),p=K(N,"BUTTON",{type:!0,class:!0});var j=D(p);m=J(j,"Register"),j.forEach(w),N.forEach(w),this.h()},h(){s.autofocus=!0,d(s,"type","text"),d(s,"aria-label","username"),d(s,"placeholder","Username"),d(s,"class","bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),d(n,"class","w-full pt-8 px-8"),d(r,"class","flex justify-center"),d(l,"class","relative w-full pt-8 px-8"),d(a,"class","flex justify-center"),d(e,"class","flex flex-col justify-around gap-4 w-full"),d(u,"type","button"),d(u,"class","w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),d(p,"type","button"),d(p,"class","w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),d(c,"class","flex justify-around gap-8 m-8 w-[80%]")},m(S,P){ee(S,e,P),g(e,r),g(r,n),g(n,s),t[74](s),je(s,t[7]),g(e,i),g(e,a),g(a,l),x.m(l,null),ee(S,o,P),ee(S,c,P),g(c,u),g(u,f),t[82](u),g(c,h),g(c,p),g(p,m),t[83](p),s.focus(),v||(k=[W(s,"input",t[75]),W(s,"keydown",t[44]),W(u,"click",t[48]),W(p,"click",t[47])],v=!0)},p(S,P){P[0]&128&&s.value!==S[7]&&je(s,S[7]),b===(b=_(S))&&x?x.p(S,P):(x.d(1),x=b(S),x&&(x.c(),x.m(l,null)))},d(S){S&&w(e),t[74](null),x.d(),S&&w(o),S&&w(c),t[82](null),t[83](null),v=!1,er(k)}}}function Ns(t){let e,r=t[40],n=[];for(let s=0;s<r.length;s+=1)n[s]=Rs(Os(t,r,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=gn()},l(s){for(let i=0;i<n.length;i+=1)n[i].l(s);e=gn()},m(s,i){for(let a=0;a<n.length;a+=1)n[a].m(s,i);ee(s,e,i)},p(s,i){if(i[1]&512){r=s[40];let a;for(a=0;a<r.length;a+=1){const l=Os(s,r,a);n[a]?n[a].p(l,i):(n[a]=Rs(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(s){Ls(n,s),s&&w(e)}}}function Rs(t){let e,r;return{c(){e=I("option"),this.h()},l(n){e=K(n,"OPTION",{}),D(e).forEach(w),this.h()},h(){e.__value=r=t[114].emailAddress,e.value=e.__value},m(n,s){ee(n,e,s)},p(n,s){s[1]&512&&r!==(r=n[114].emailAddress)&&(e.__value=r,e.value=e.__value)},d(n){n&&w(e)}}}function Ms(t){let e,r,n,s,i,a,l,o,c,u,f,h,p,m,v,k,_,b,x=t[41]&&Fs(t);return{c(){e=I("div"),r=I("button"),n=I("div"),s=oe("svg"),i=oe("path"),l=q(),o=I("input"),c=q(),u=I("datalist"),x&&x.c(),f=q(),h=I("button"),p=I("div"),m=oe("svg"),v=oe("path"),this.h()},l(S){e=K(S,"DIV",{class:!0});var P=D(e);r=K(P,"BUTTON",{type:!0,class:!0});var E=D(r);n=K(E,"DIV",{class:!0});var A=D(n);s=le(A,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0,xmlns:!0,"aria-hidden":!0});var O=D(s);i=le(O,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),D(i).forEach(w),O.forEach(w),A.forEach(w),E.forEach(w),l=U(P),o=K(P,"INPUT",{"aria-label":!0,type:!0,list:!0,placeholder:!0,class:!0}),c=U(P),u=K(P,"DATALIST",{id:!0});var C=D(u);x&&x.l(C),C.forEach(w),f=U(P),h=K(P,"BUTTON",{type:!0,class:!0});var N=D(h);p=K(N,"DIV",{class:!0});var L=D(p);m=le(L,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0,xmlns:!0,"aria-hidden":!0});var j=D(m);v=le(j,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),D(v).forEach(w),j.forEach(w),L.forEach(w),N.forEach(w),P.forEach(w),this.h()},h(){d(i,"stroke-linecap","round"),d(i,"stroke-linejoin","round"),d(i,"d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"),d(s,"class","w-5 h-5 text-white"),d(s,"fill","none"),d(s,"stroke","currentColor"),d(s,"stroke-width","1.5"),d(s,"viewBox","0 0 24 24"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(s,"aria-hidden","true"),d(n,"class","absolute h-0 w-0 right-7 bottom-8"),r.disabled=a=!t[11],d(r,"type","button"),d(r,"class","relative text-white disabled:bg-red-300 enabled:bg-red-700 enabled:hover:bg-red-800 enabled:focus:outline-none enabled:focus:ring-4 enabled:focus:ring-red-300 font-medium rounded-l-full text-sm px-5 py-2.5 text-center disabled:dark:bg-red-300 enabled:dark:bg-red-600 enabled:dark:hover:bg-red-700 enabled:dark:focus:ring-red-900"),d(o,"aria-label","page"),d(o,"type","text"),d(o,"list","pageList"),d(o,"placeholder","Website"),d(o,"class","bg-gray-50 border border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),d(u,"id","pageList"),d(v,"stroke-linecap","round"),d(v,"stroke-linejoin","round"),d(v,"d","M12 4.5v15m7.5-7.5h-15"),d(m,"class","w-5 h-5 text-white"),d(m,"fill","none"),d(m,"stroke","currentColor"),d(m,"stroke-width","2.0"),d(m,"viewBox","0 0 24 24"),d(m,"xmlns","http://www.w3.org/2000/svg"),d(m,"aria-hidden","true"),d(p,"class","absolute h-0 w-0 right-8 bottom-8"),h.disabled=k=t[11]!==void 0||t[4]==="",d(h,"type","button"),d(h,"class","relative text-white disabled:bg-green-300 enabled:bg-green-700 enabled:hover:bg-green-800 enabled:focus:outline-none enabled:focus:ring-4 enabled:focus:ring-green-300 font-medium rounded-r-full text-sm px-5 py-2.5 text-center disabled:dark:bg-green-300 enabled:dark:bg-green-600 enabled:dark:hover:bg-green-700 enabled:dark:focus:ring-green-800"),d(e,"class","flex flex-row pt-8 px-8")},m(S,P){ee(S,e,P),g(e,r),g(r,n),g(n,s),g(s,i),t[88](r),g(e,l),g(e,o),t[89](o),je(o,t[4]),g(e,c),g(e,u),x&&x.m(u,null),g(e,f),g(e,h),g(h,p),g(p,m),g(m,v),t[91](h),_||(b=[W(r,"click",t[53]),W(o,"input",t[90]),W(o,"keydown",t[55]),W(h,"click",t[54])],_=!0)},p(S,P){P[0]&2048&&a!==(a=!S[11])&&(r.disabled=a),P[0]&16&&o.value!==S[4]&&je(o,S[4]),S[41]?x?x.p(S,P):(x=Fs(S),x.c(),x.m(u,null)):x&&(x.d(1),x=null),P[0]&2064&&k!==(k=S[11]!==void 0||S[4]==="")&&(h.disabled=k)},d(S){S&&w(e),t[88](null),t[89](null),x&&x.d(),t[91](null),_=!1,er(b)}}}function Fs(t){let e,r=t[41],n=[];for(let s=0;s<r.length;s+=1)n[s]=Vs(Cs(t,r,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=gn()},l(s){for(let i=0;i<n.length;i+=1)n[i].l(s);e=gn()},m(s,i){for(let a=0;a<n.length;a+=1)n[a].m(s,i);ee(s,e,i)},p(s,i){if(i[1]&1024){r=s[41];let a;for(a=0;a<r.length;a+=1){const l=Cs(s,r,a);n[a]?n[a].p(l,i):(n[a]=Vs(l),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(s){Ls(n,s),s&&w(e)}}}function Vs(t){let e,r;return{c(){e=I("option"),this.h()},l(n){e=K(n,"OPTION",{}),D(e).forEach(w),this.h()},h(){e.__value=r=t[111].pageName,e.value=e.__value},m(n,s){ee(n,e,s)},p(n,s){s[1]&1024&&r!==(r=n[111].pageName)&&(e.__value=r,e.value=e.__value)},d(n){n&&w(e)}}}function qs(t){let e;function r(i,a){if(i[14])return Ea;if(i[13]!==void 0)return xa}let n=r(t),s=n&&n(t);return{c(){e=I("div"),s&&s.c(),this.h()},l(i){e=K(i,"DIV",{class:!0});var a=D(e);s&&s.l(a),a.forEach(w),this.h()},h(){d(e,"class","w-full mt-12 p-8 bg-gray-100 border border-gray-200 rounded-lg shadow dark:bg-black text-black dark:text-orange-500 dark:border-gray-700 flex flex-row justify-center items-center")},m(i,a){ee(i,e,a),s&&s.m(e,null)},p(i,a){n===(n=r(i))&&s?s.p(i,a):(s&&s.d(1),s=n&&n(i),s&&(s.c(),s.m(e,null)))},d(i){i&&w(e),s&&s.d()}}}function xa(t){let e,r,n,s,i,a,l,o,c;return{c(){e=I("p"),r=Q(t[13]),n=q(),s=I("div"),i=I("button"),a=oe("svg"),l=oe("path"),this.h()},l(u){e=K(u,"P",{class:!0});var f=D(e);r=J(f,t[13]),f.forEach(w),n=U(u),s=K(u,"DIV",{});var h=D(s);i=K(h,"BUTTON",{type:!0,class:!0});var p=D(i);a=le(p,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0,xmlns:!0,"aria-hidden":!0});var m=D(a);l=le(m,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),D(l).forEach(w),m.forEach(w),p.forEach(w),h.forEach(w),this.h()},h(){d(e,"class","word-break text-lg svelte-f4qism"),d(l,"stroke-linecap","round"),d(l,"stroke-linejoin","round"),d(l,"d","M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"),d(a,"class","h-5 w-5 text-gray-900 dark:text-gray-100"),d(a,"fill","none"),d(a,"stroke","currentColor"),d(a,"stroke-width","1.5"),d(a,"viewBox","0 0 24 24"),d(a,"xmlns","http://www.w3.org/2000/svg"),d(a,"aria-hidden","true"),d(i,"type","button"),d(i,"class","ml-4 hover:bg-slate-300 dark:hover:bg-gray-900 p-1 rounded-lg")},m(u,f){ee(u,e,f),g(e,r),ee(u,n,f),ee(u,s,f),g(s,i),g(i,a),g(a,l),t[93](i),o||(c=W(i,"click",t[58]),o=!0)},p(u,f){f[0]&8192&&Yt(r,u[13])},d(u){u&&w(e),u&&w(n),u&&w(s),t[93](null),o=!1,c()}}}function Ea(t){let e,r,n,s,i,a,l;return{c(){e=I("div"),r=oe("svg"),n=oe("path"),s=oe("path"),i=q(),a=I("span"),l=Q("Loading..."),this.h()},l(o){e=K(o,"DIV",{role:!0});var c=D(e);r=le(c,"svg",{"aria-hidden":!0,class:!0,viewBox:!0,fill:!0,xmlns:!0});var u=D(r);n=le(u,"path",{d:!0,fill:!0}),D(n).forEach(w),s=le(u,"path",{d:!0,fill:!0}),D(s).forEach(w),u.forEach(w),i=U(c),a=K(c,"SPAN",{class:!0});var f=D(a);l=J(f,"Loading..."),f.forEach(w),c.forEach(w),this.h()},h(){d(n,"d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"),d(n,"fill","currentColor"),d(s,"d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"),d(s,"fill","currentFill"),d(r,"aria-hidden","true"),d(r,"class","w-8 h-8 mr-2 text-gray-200 animate-spin dark:text-gray-800 fill-blue-600"),d(r,"viewBox","0 0 100 101"),d(r,"fill","none"),d(r,"xmlns","http://www.w3.org/2000/svg"),d(a,"class","sr-only"),d(e,"role","status")},m(o,c){ee(o,e,c),g(e,r),g(r,n),g(r,s),g(e,i),g(e,a),g(a,l)},p:Zt,d(o){o&&w(e)}}}function Sa(t){let e,r,n,s,i,a,l,o;return{c(){e=I("input"),r=q(),n=I("div"),s=oe("svg"),i=oe("path"),a=oe("path"),this.h()},l(c){e=K(c,"INPUT",{id:!0,type:!0,"aria-label":!0,placeholder:!0,class:!0}),r=U(c),n=K(c,"DIV",{class:!0});var u=D(n);s=le(u,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0,xmlns:!0,"aria-hidden":!0});var f=D(s);i=le(f,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),D(i).forEach(w),a=le(f,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),D(a).forEach(w),f.forEach(w),u.forEach(w),this.h()},h(){d(e,"id","password"),d(e,"type","password"),d(e,"aria-label","password"),d(e,"placeholder","Password"),d(e,"class","bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),d(i,"stroke-linecap","round"),d(i,"stroke-linejoin","round"),d(i,"d","M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"),d(a,"stroke-linecap","round"),d(a,"stroke-linejoin","round"),d(a,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),d(s,"class","w-5 h-5 text-gray-500 dark:text-gray-400"),d(s,"fill","none"),d(s,"stroke","currentColor"),d(s,"stroke-width","1.5"),d(s,"viewBox","0 0 24 24"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(s,"aria-hidden","true"),d(n,"class","absolute inset-y-0 right-0 flex items-center pt-8")},m(c,u){ee(c,e,u),t[79](e),je(e,t[9]),ee(c,r,u),ee(c,n,u),g(n,s),g(s,i),g(s,a),t[81](n),l||(o=[W(e,"input",t[80]),W(e,"keydown",t[45]),W(n,"click",t[46]),W(n,"keypress",Ba)],l=!0)},p(c,u){u[0]&512&&e.value!==c[9]&&je(e,c[9])},d(c){c&&w(e),t[79](null),c&&w(r),c&&w(n),t[81](null),l=!1,er(o)}}}function Da(t){let e,r,n,s,i,a,l;return{c(){e=I("input"),r=q(),n=I("div"),s=oe("svg"),i=oe("path"),this.h()},l(o){e=K(o,"INPUT",{id:!0,type:!0,"aria-label":!0,placeholder:!0,class:!0}),r=U(o),n=K(o,"DIV",{class:!0});var c=D(n);s=le(c,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0,xmlns:!0,"aria-hidden":!0});var u=D(s);i=le(u,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),D(i).forEach(w),u.forEach(w),c.forEach(w),this.h()},h(){d(e,"id","password"),d(e,"type","text"),d(e,"aria-label","password"),d(e,"placeholder","Password"),d(e,"class","bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),d(i,"stroke-linecap","round"),d(i,"stroke-linejoin","round"),d(i,"d","M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"),d(s,"class","w-5 h-5 text-gray-500 dark:text-gray-400"),d(s,"fill","none"),d(s,"stroke","currentColor"),d(s,"stroke-width","1.5"),d(s,"viewBox","0 0 24 24"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(s,"aria-hidden","true"),d(n,"class","absolute inset-y-0 right-0 flex items-center pt-8")},m(o,c){ee(o,e,c),t[76](e),je(e,t[9]),ee(o,r,c),ee(o,n,c),g(n,s),g(s,i),t[78](n),a||(l=[W(e,"input",t[77]),W(e,"keydown",t[45]),W(n,"click",t[46]),W(n,"keypress",ja)],a=!0)},p(o,c){c[0]&512&&e.value!==o[9]&&je(e,o[9])},d(o){o&&w(e),t[76](null),o&&w(r),o&&w(n),t[78](null),a=!1,er(l)}}}function Us(t){let e,r,n,s,i,a,l,o,c,u,f,h,p,m,v,k,_;return{c(){e=I("div"),r=I("div"),n=I("p"),s=I("span"),i=Q(`This website uses LocalStorage and indexedDB to store the necessary data for the website to work, and by continuing to use this website you agree to this use. For more information you can visit our \r
                    `),a=I("a"),l=Q("Privacy Policy."),o=q(),c=I("div"),u=I("button"),f=oe("svg"),h=oe("path"),p=q(),m=I("span"),v=Q("Close banner"),this.h()},l(b){e=K(b,"DIV",{id:!0,class:!0});var x=D(e);r=K(x,"DIV",{class:!0});var S=D(r);n=K(S,"P",{class:!0});var P=D(n);s=K(P,"SPAN",{});var E=D(s);i=J(E,`This website uses LocalStorage and indexedDB to store the necessary data for the website to work, and by continuing to use this website you agree to this use. For more information you can visit our \r
                    `),a=K(E,"A",{href:!0});var A=D(a);l=J(A,"Privacy Policy."),A.forEach(w),E.forEach(w),P.forEach(w),S.forEach(w),o=U(x),c=K(x,"DIV",{class:!0});var O=D(c);u=K(O,"BUTTON",{type:!0,class:!0});var C=D(u);f=le(C,"svg",{"aria-hidden":!0,class:!0,fill:!0,viewBox:!0,xmlns:!0});var N=D(f);h=le(N,"path",{"fill-rule":!0,d:!0,"clip-rule":!0});var L=D(h);L.forEach(w),N.forEach(w),p=U(C),m=K(C,"SPAN",{class:!0});var j=D(m);v=J(j,"Close banner"),j.forEach(w),C.forEach(w),O.forEach(w),x.forEach(w),this.h()},h(){d(a,"href","/cookies"),d(n,"class","flex items-center text-sm font-normal text-gray-500 dark:text-gray-400"),d(r,"class","flex items-center mx-auto"),d(h,"fill-rule","evenodd"),d(h,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),d(h,"clip-rule","evenodd"),d(f,"aria-hidden","true"),d(f,"class","w-4 h-4"),d(f,"fill","currentColor"),d(f,"viewBox","0 0 20 20"),d(f,"xmlns","http://www.w3.org/2000/svg"),d(m,"class","sr-only"),d(u,"type","button"),d(u,"class","flex-shrink-0 inline-flex justify-center items-center text-gray-400 hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 dark:hover:bg-gray-600 dark:hover:text-white"),d(c,"class","flex items-center"),d(e,"id","bottom-banner"),d(e,"class","fixed bottom-0 left-0 z-50 flex justify-between w-full p-4 border-t border-gray-200 bg-gray-50 dark:bg-gray-700 dark:border-gray-600")},m(b,x){ee(b,e,x),g(e,r),g(r,n),g(n,s),g(s,i),g(s,a),g(a,l),g(e,o),g(e,c),g(c,u),g(u,f),g(f,h),g(u,p),g(u,m),g(m,v),t[94](u),k||(_=W(u,"click",t[43]),k=!0)},p:Zt,d(b){b&&w(e),t[94](null),k=!1,_()}}}function Pa(t){let e,r,n,s,i,a,l,o,c,u,f,h,p,m,v,k,_,b,x,S,P,E,A,O,C,N,L,j,V,F,z,H,G,se,ue,te,re,_e,Be,Ke,ge,xe,ce,de,we,Ge,Ae,Ne,Ve=Math.ceil(t[5]/6)+"",_t,Ye,qe,Ce,Oe,nr,Qe,sr,ir,Je,ar,Ct,wt,ze,or,Ot,lr,Ue,Tt,ur,ct,Xe,dt,ht,cr,dr,tt,hr,jt,ft,kt,Le,rt,fr,We,Tr,Bt,jr,ye=t[10]&&Ts(t),me=t[38]!==void 0&&js(t),be=t[39]!==void 0&&Bs(t);function Br(Y,X){return Y[10]?wa:ka}let Nt=Br(t),Re=Nt(t),ve=typeof window<"u"&&!t[36]&&Us(t);return{c(){e=I("div"),r=I("nav"),n=I("div"),s=I("div"),i=I("a"),a=Q("About"),l=q(),o=I("div"),c=I("a"),u=Q("Privacy Policy"),f=q(),h=I("div"),p=I("div"),m=Q("Files"),v=q(),k=I("div"),_=I("div"),b=I("div"),x=I("button"),S=Q("Upload"),P=q(),E=I("input"),A=q(),O=I("div"),C=I("button"),N=Q("Download"),L=q(),j=I("a"),V=Q("Download"),F=q(),ye&&ye.c(),z=q(),H=I("div"),G=I("div"),se=Q("Settings"),ue=q(),te=I("div"),re=I("div"),_e=I("div"),Be=Q("Iterations: "),Ke=Q(t[12]),ge=q(),xe=I("div"),ce=I("input"),de=q(),we=I("div"),Ge=Q("Length: "),Ae=Q(t[5]),Ne=Q(" ("),_t=Q(Ve),Ye=Q(" characters)"),qe=q(),Ce=I("div"),Oe=I("input"),nr=q(),Qe=I("div"),sr=Q("Restore Defaults"),ir=q(),Je=I("div"),ar=Q("Save Settings"),Ct=q(),wt=I("div"),ze=I("button"),or=Q("Log out"),lr=q(),Ue=I("div"),me&&me.c(),Tt=q(),be&&be.c(),ur=q(),ct=I("div"),Xe=I("div"),dt=I("div"),ht=I("h1"),cr=Q("MyPasswordGen"),dr=q(),tt=I("div"),Re.c(),hr=q(),ve&&ve.c(),jt=q(),ft=I("footer"),kt=I("div"),Le=I("form"),rt=I("input"),fr=q(),We=I("input"),this.h()},l(Y){e=K(Y,"DIV",{class:!0});var X=D(e);r=K(X,"NAV",{class:!0});var Nr=D(r);n=K(Nr,"DIV",{class:!0});var Ze=D(n);s=K(Ze,"DIV",{});var Rr=D(s);i=K(Rr,"A",{href:!0});var Mr=D(i);a=J(Mr,"About"),Mr.forEach(w),Rr.forEach(w),l=U(Ze),o=K(Ze,"DIV",{});var Fr=D(o);c=K(Fr,"A",{href:!0});var Vr=D(c);u=J(Vr,"Privacy Policy"),Vr.forEach(w),Fr.forEach(w),f=U(Ze),h=K(Ze,"DIV",{});var Rt=D(h);p=K(Rt,"DIV",{"data-dropdown-toggle":!0,"data-dropdown-trigger":!0});var qr=D(p);m=J(qr,"Files"),qr.forEach(w),v=U(Rt),k=K(Rt,"DIV",{id:!0,class:!0});var Mt=D(k);_=K(Mt,"DIV",{class:!0});var Ft=D(_);b=K(Ft,"DIV",{});var Vt=D(b);x=K(Vt,"BUTTON",{class:!0});var Ur=D(x);S=J(Ur,"Upload"),Ur.forEach(w),P=U(Vt),E=K(Vt,"INPUT",{type:!0,accept:!0}),Vt.forEach(w),A=U(Ft),O=K(Ft,"DIV",{});var qt=D(O);C=K(qt,"BUTTON",{type:!0,class:!0});var Lr=D(C);N=J(Lr,"Download"),Lr.forEach(w),L=U(qt),j=K(qt,"A",{download:!0,href:!0});var zr=D(j);V=J(zr,"Download"),zr.forEach(w),qt.forEach(w),Ft.forEach(w),F=U(Mt),ye&&ye.l(Mt),Mt.forEach(w),Rt.forEach(w),z=U(Ze),H=K(Ze,"DIV",{});var Ut=D(H);G=K(Ut,"DIV",{"data-dropdown-toggle":!0,"data-dropdown-trigger":!0});var Wr=D(G);se=J(Wr,"Settings"),Wr.forEach(w),ue=U(Ut),te=K(Ut,"DIV",{id:!0,class:!0});var Lt=D(te);re=K(Lt,"DIV",{class:!0});var Te=D(re);_e=K(Te,"DIV",{class:!0});var pr=D(_e);Be=J(pr,"Iterations: "),Ke=J(pr,t[12]),pr.forEach(w),ge=U(Te),xe=K(Te,"DIV",{class:!0});var Hr=D(xe);ce=K(Hr,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Hr.forEach(w),de=U(Te),we=K(Te,"DIV",{class:!0});var y=D(we);Ge=J(y,"Length: "),Ae=J(y,t[5]),Ne=J(y," ("),_t=J(y,Ve),Ye=J(y," characters)"),y.forEach(w),qe=U(Te),Ce=K(Te,"DIV",{class:!0});var R=D(Ce);Oe=K(R,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),R.forEach(w),nr=U(Te),Qe=K(Te,"DIV",{class:!0});var Z=D(Qe);sr=J(Z,"Restore Defaults"),Z.forEach(w),ir=U(Te),Je=K(Te,"DIV",{class:!0});var ke=D(Je);ar=J(ke,"Save Settings"),ke.forEach(w),Te.forEach(w),Ct=U(Lt),wt=K(Lt,"DIV",{});var De=D(wt);ze=K(De,"BUTTON",{type:!0,class:!0});var Gr=D(ze);or=J(Gr,"Log out"),Gr.forEach(w),De.forEach(w),Lt.forEach(w),Ut.forEach(w),Ze.forEach(w),Nr.forEach(w),lr=U(X),Ue=K(X,"DIV",{class:!0});var Yr=D(Ue);me&&me.l(Yr),Tt=U(Yr),be&&be.l(Yr),Yr.forEach(w),ur=U(X),ct=K(X,"DIV",{class:!0});var hs=D(ct);Xe=K(hs,"DIV",{class:!0});var Qr=D(Xe);dt=K(Qr,"DIV",{class:!0});var fs=D(dt);ht=K(fs,"H1",{class:!0});var ps=D(ht);cr=J(ps,"MyPasswordGen"),ps.forEach(w),fs.forEach(w),dr=U(Qr),tt=K(Qr,"DIV",{class:!0});var gs=D(tt);Re.l(gs),gs.forEach(w),Qr.forEach(w),hs.forEach(w),hr=U(X),ve&&ve.l(X),jt=U(X),ft=K(X,"FOOTER",{class:!0});var ys=D(ft);kt=K(ys,"DIV",{});var ms=D(kt);Le=K(ms,"FORM",{action:!0,method:!0,target:!0});var Jr=D(Le);rt=K(Jr,"INPUT",{type:!0,name:!0}),fr=U(Jr),We=K(Jr,"INPUT",{type:!0,src:!0,name:!0,title:!0,alt:!0}),Jr.forEach(w),ms.forEach(w),ys.forEach(w),X.forEach(w),this.h()},h(){d(i,"href","/about"),d(c,"href","/cookies"),d(p,"data-dropdown-toggle","dropdownHoverFiles"),d(p,"data-dropdown-trigger","hover"),d(x,"class","w-full block px-2 py-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white rounded-t-lg"),d(E,"type","file"),E.multiple=!0,d(E,"accept",".json,application/json"),E.hidden=!0,d(C,"type","button"),d(C,"class","w-full block px-2 py-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"),bs(C,"rounded-b-lg",!t[10]),j.hidden=!0,d(j,"download","my-password-gen.json"),d(j,"href",t[16]),d(_,"class","text-sm text-gray-700 dark:text-gray-200"),d(k,"id","dropdownHoverFiles"),d(k,"class","z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700"),d(G,"data-dropdown-toggle","dropdownHoverSettings"),d(G,"data-dropdown-trigger","hover"),d(_e,"class","px-2 py-2 flex justify-center"),d(ce,"type","range"),d(ce,"min","0"),d(ce,"max","1"),d(ce,"step","0.05"),d(ce,"class","w-[90%]"),d(xe,"class","w-full flex justify-center px-2 pb-2"),d(we,"class","w-full flex justify-center px-2 py-2"),d(Oe,"type","range"),d(Oe,"min","48"),d(Oe,"max","600"),d(Oe,"step","1"),d(Oe,"class","w-[90%]"),d(Ce,"class","w-full flex justify-center px-2 pb-2"),d(Qe,"class","w-full flex justify-center px-2 pt-2 pb-4 hover:cursor-pointer text-base hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"),d(Je,"class","w-full flex justify-center px-2 pt-2 pb-4 hover:cursor-pointer text-base hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"),d(re,"class","pt-4 text-sm text-gray-700 dark:text-gray-200"),d(ze,"type","button"),d(ze,"class","w-full px-2 py-4 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white rounded-b-lg"),d(te,"id","dropdownHoverSettings"),d(te,"class","z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-64 dark:bg-gray-700"),H.hidden=Ot=!t[10],d(n,"class","w-full flex items-center justify-end gap-6 md:gap-12 pr-4 text-gray-900 dark:text-white"),d(r,"class","bg-gray-300 border-gray-200 px-2 sm:px-4 py-4 dark:bg-gray-900"),d(Ue,"class","h-0 w-[80%] fixed top-16 right-[10%] text-center"),d(ht,"class","text-center"),d(dt,"class","mt-8 text-4xl font-bold tracking-tight text-gray-900 dark:text-white"),d(tt,"class","flex flex-col justify-around gap-4 items-center"),d(Xe,"class","w-screen max-w-md p-6 bg-gray-300 border border-gray-200 rounded-lg shadow dark:bg-gray-900 dark:border-gray-700 flex flex-col justify-between gap-4"),d(ct,"class","flex justify-center"),d(rt,"type","hidden"),d(rt,"name","hosted_button_id"),rt.value="WCRYMKW6UAJRC",d(We,"type","image"),Pi(We.src,Tr="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif")||d(We,"src",Tr),d(We,"name","submit"),d(We,"title","PayPal - The safer, easier way to pay online!"),d(We,"alt","Donate with PayPal button"),d(Le,"action","https://www.paypal.com/donate"),d(Le,"method","post"),d(Le,"target","_top"),d(ft,"class","p-4 bg-gray-300 shadow flex items-center justify-end dark:bg-gray-900"),d(e,"class","h-full flex flex-col justify-between bg-blue-300 dark:bg-gray-800")},m(Y,X){ee(Y,e,X),g(e,r),g(r,n),g(n,s),g(s,i),g(i,a),g(n,l),g(n,o),g(o,c),g(c,u),g(n,f),g(n,h),g(h,p),g(p,m),g(h,v),g(h,k),g(k,_),g(_,b),g(b,x),g(x,S),g(b,P),g(b,E),t[68](E),g(_,A),g(_,O),g(O,C),g(C,N),g(O,L),g(O,j),g(j,V),t[69](j),g(k,F),ye&&ye.m(k,null),g(n,z),g(n,H),g(H,G),g(G,se),g(H,ue),g(H,te),g(te,re),g(re,_e),g(_e,Be),g(_e,Ke),g(re,ge),g(re,xe),g(xe,ce),je(ce,t[6]),g(re,de),g(re,we),g(we,Ge),g(we,Ae),g(we,Ne),g(we,_t),g(we,Ye),g(re,qe),g(re,Ce),g(Ce,Oe),je(Oe,t[5]),g(re,nr),g(re,Qe),g(Qe,sr),g(re,ir),g(re,Je),g(Je,ar),g(te,Ct),g(te,wt),g(wt,ze),g(ze,or),t[73](ze),g(e,lr),g(e,Ue),me&&me.m(Ue,null),g(Ue,Tt),be&&be.m(Ue,null),g(e,ur),g(e,ct),g(ct,Xe),g(Xe,dt),g(dt,ht),g(ht,cr),g(Xe,dr),g(Xe,tt),Re.m(tt,null),g(e,hr),ve&&ve.m(e,null),g(e,jt),g(e,ft),g(ft,kt),g(kt,Le),g(Le,rt),g(Le,fr),g(Le,We),Bt||(jr=[W(x,"click",t[67]),W(E,"change",t[65]),W(C,"click",t[63]),W(ce,"change",t[71]),W(ce,"input",t[71]),W(Oe,"change",t[72]),W(Oe,"input",t[72]),W(Qe,"click",t[60]),W(Qe,"keypress",Oa),W(Je,"click",t[59]),W(Je,"keypress",Ta),W(ze,"click",t[49]),W(e,"keydown",t[42])],Bt=!0)},p(Y,X){X[0]&1024&&bs(C,"rounded-b-lg",!Y[10]),X[0]&65536&&d(j,"href",Y[16]),Y[10]?ye?ye.p(Y,X):(ye=Ts(Y),ye.c(),ye.m(k,null)):ye&&(ye.d(1),ye=null),X[0]&4096&&Yt(Ke,Y[12]),X[0]&64&&je(ce,Y[6]),X[0]&32&&Yt(Ae,Y[5]),X[0]&32&&Ve!==(Ve=Math.ceil(Y[5]/6)+"")&&Yt(_t,Ve),X[0]&32&&je(Oe,Y[5]),X[0]&1024&&Ot!==(Ot=!Y[10])&&(H.hidden=Ot),Y[38]!==void 0?me?me.p(Y,X):(me=js(Y),me.c(),me.m(Ue,Tt)):me&&(me.d(1),me=null),Y[39]!==void 0?be?be.p(Y,X):(be=Bs(Y),be.c(),be.m(Ue,null)):be&&(be.d(1),be=null),Nt===(Nt=Br(Y))&&Re?Re.p(Y,X):(Re.d(1),Re=Nt(Y),Re&&(Re.c(),Re.m(tt,null))),typeof window<"u"&&!Y[36]?ve?ve.p(Y,X):(ve=Us(Y),ve.c(),ve.m(e,jt)):ve&&(ve.d(1),ve=null)},i:Zt,o:Zt,d(Y){Y&&w(e),t[68](null),t[69](null),ye&&ye.d(),t[73](null),me&&me.d(),be&&be.d(),Re.d(),ve&&ve.d(),Bt=!1,er(jr)}}}const sn=256,an=0;function Ia(t){if(t==null)return!1;const e=t;return Array.isArray(e.users)?e.users.length===0||e.users.every(r=>vi(r)):!1}function vi(t){if(t==null)return!1;const e=t;return typeof e.username!="string"||!_i(e.settings)||!Array.isArray(e.emails)?!1:e.emails.length===0||e.emails.every(r=>Ka(r))}function _i(t){if(t==null)return!1;const e=t;return typeof e.bitKeySize!="number"?!1:typeof e.rawIterations=="number"}function Ka(t){if(t==null)return!1;const e=t;return typeof e.emailAddress!="string"||!Array.isArray(e.pages)?!1:e.pages.length===0||e.pages.every(r=>Aa(r))}function Aa(t){return t==null?!1:typeof t.pageName=="string"}function Ca(t){return{pageName:t.pageName}}const Oa=()=>{},Ta=()=>{},ja=()=>{},Ba=()=>{};function Na(t,e,r){let n,s=Zt,i=()=>(s(),s=vs(v,y=>r(40,n=y)),v),a,l=Zt,o=()=>(l(),l=vs(_,y=>r(41,a=y)),_);t.$$.on_destroy.push(()=>s()),t.$$.on_destroy.push(()=>l());let c="",u=!1,f="",h,p,m="",v,k,_,b="",x,S=sn,P,E=an,A,O,C,N=!1,L,j=0,V,F,z,H,G,se,ue,te,re,_e,Be,Ke,ge,xe,ce,de,we,Ge,Ae,Ne,Ve,_t=typeof window<"u"&&localStorage.getItem("cookies")==="true",Ye,qe,Ce;Ii(Oe);async function Oe(){const y=await xi(()=>import("../chunks/worker.a658c318.js"),[],import.meta.url);L=new y.default,L.onmessage=R=>{R.data.id===j&&(r(13,C=R.data.password),r(14,N=!1))}}function nr(y){y.ctrlKey&&y.key==="Backspace"&&(Ve==null||Ve.click())}function Qe(){localStorage.setItem("cookies","true"),r(36,_t=!0),se==null||se.focus()}function sr(y){(y.key==="Enter"||y.ctrlKey&&y.key==="ArrowDown")&&(u?ue==null||ue.focus():te==null||te.focus())}function ir(y){!y.altKey&&y.key==="Enter"?Be==null||Be.click():y.key==="Enter"?Ke==null||Ke.click():y.ctrlKey&&y.key==="ArrowUp"?se==null||se.focus():y.ctrlKey&&y.key==="s"&&(y.preventDefault(),u?_e==null||_e.click():re==null||re.click())}async function Je(){r(8,u=!u),await zt(),u?ue==null||ue.focus():te==null||te.focus()}async function ar(){if(c===""||!pt)return;if((await ie.users.where("username").equals(c).toArray()).length>0){r(38,qe="Username already exists.");return}const R=await ie.settings.add({bitKeySize:sn,rawIterations:an});await ie.users.add({username:c,settingsID:R}),Ct()}async function Ct(){if(c===""||!pt)return;const y=await ie.users.where("username").equals(c).toArray();if(y.length===0){r(38,qe="Username not found.");return}r(66,h=y[0]),O=fn(async()=>await ie.settings.get(y[0].settingsID)),O.subscribe(R=>{R!==void 0&&(r(5,S=R.bitKeySize),r(6,E=R.rawIterations))}),Ye==null||Ye.click(),r(38,qe=void 0),r(39,Ce=void 0)}function wt(){r(66,h=void 0),r(7,c=""),r(9,f=""),r(8,u=!1),r(0,m=""),O=void 0,r(38,qe=void 0),r(39,Ce=void 0)}function ze(y){r(4,b="")}async function or(){k===void 0||!pt||(await ie.emails.delete(k.id),r(0,m=""),await zt(),ge==null||ge.focus())}async function Ot(){h===void 0||m===""||!pt||(await ie.emails.add({emailAddress:m,userID:h.id}),await zt(),de==null||de.focus())}function lr(y){y.ctrlKey&&y.key==="Delete"?xe==null||xe.click():y.key==="Enter"?k!==void 0?de==null||de.focus():ce==null||ce.click():y.ctrlKey&&y.key==="ArrowDown"&&k!==void 0&&(de==null||de.focus())}function Ue(y){r(13,C=void 0),r(14,N=!1),j++}async function Tt(){x===void 0||!pt||(await ie.pages.delete(x.id),r(4,b=""),await zt(),de==null||de.focus())}function ur(){k===void 0||b===""||!pt||ie.pages.add({pageName:b,emailID:k.id})}function ct(y){y.ctrlKey&&y.key==="Delete"?we==null||we.click():y.key==="Enter"?x!==void 0?Ae==null||Ae.focus():Ge==null||Ge.click():y.ctrlKey&&y.key==="ArrowUp"?ge==null||ge.focus():y.ctrlKey&&y.key==="ArrowDown"?Ae==null||Ae.focus():y.ctrlKey&&y.key==="c"&&(Ne==null||Ne.click())}function Xe(y){y.ctrlKey&&y.key==="ArrowUp"?de==null||de.focus():y.ctrlKey&&y.key==="c"&&(Ne==null||Ne.click())}function dt(){r(14,N=!0);const y={id:++j,masterPassword:f,username:c,emailAddress:m,pageName:b,keySize:P,iterations:A};L==null||L.postMessage(y)}function ht(){C!==void 0&&navigator.clipboard.writeText(C)}function cr(){h!==void 0&&ie.settings.put({id:h.settingsID,bitKeySize:S,rawIterations:E})}function dr(){r(5,S=sn),r(6,E=an)}function tt(){r(38,qe=void 0)}function hr(){r(39,Ce=void 0)}async function jt(){let y;h!==void 0?y=await rt(h):y=await Le();const R=JSON.stringify(y),Z=new Blob([R],{type:"application/json"});r(16,F=URL.createObjectURL(Z)),await zt(),z.click()}async function ft(){if(h===void 0)return;const y=await We();if(y===void 0)return;const R=JSON.stringify(y),Z=new Blob([R],{type:"application/json"});r(18,H=URL.createObjectURL(Z)),await zt(),G.click()}function kt(){const R=V.files;if(R===null||R.length===0)return;const Z=new FileReader;Z.onload=async()=>{const ke=Z.result,De=JSON.parse(ke);Ia(De)?(await Tr(De),r(39,Ce="Application data imported successfully.")):vi(De)?(await Bt(De),r(39,Ce="User data imported successfully.")):_i(De)?p?(await me(De),r(39,Ce="Settings imported successfully.")):r(38,qe="Settings can only be imported after login."):r(38,qe="File data not recognized."),r(15,V.value="",V)};for(let ke of R)ke.type==="application/json"&&Z.readAsText(ke)}async function Le(){const y={users:[]},R=await ie.users.toArray();return await Promise.all(R.map(async Z=>{const ke=await rt(Z);y.users.push(ke)})),y}async function rt(y){let R=await ie.settings.get(y.settingsID);R={bitKeySize:R===void 0?sn:R.bitKeySize,rawIterations:R===void 0?an:R.rawIterations};const Z={username:y.username,emails:[],settings:R},ke=await ie.emails.where("userID").equals(y.id).toArray();return await Promise.all(ke.map(async De=>{const Gr=await fr(De);Z.emails.push(Gr)})),Z}async function fr(y){const R={emailAddress:y.emailAddress,pages:[]},Z=await ie.pages.where("emailID").equals(y.id).toArray();return await Promise.all(Z.map(ke=>{const De=Ca(ke);R.pages.push(De)})),R}async function We(){if(h===void 0)return;const y=await ie.settings.get(h.settingsID);if(y!==void 0)return{bitKeySize:y.bitKeySize,rawIterations:y.rawIterations}}async function Tr(y){await Promise.all(y.users.map(R=>{Bt(R)}))}async function Bt(y){if((await ie.users.where("username").equals(y.username).toArray()).length!==0)return;const Z=await ie.settings.add(y.settings),ke=await ie.users.add({username:y.username,settingsID:Z});await Promise.all(y.emails.map(De=>{jr(De,ke)}))}async function jr(y,R){const Z=await ie.emails.add({emailAddress:y.emailAddress,userID:R});await Promise.all(y.pages.map(ke=>{ye(ke,Z)}))}async function ye(y,R){await ie.pages.add({pageName:y.pageName,emailID:R})}async function me(y){if(h===void 0)return;let R=await ie.settings.get(h.settingsID);R!==void 0&&(R=R,ie.settings.put({id:R.id,bitKeySize:y.bitKeySize,rawIterations:y.rawIterations}))}const be=()=>{V.click()};function Br(y){he[y?"unshift":"push"](()=>{V=y,r(15,V)})}function Nt(y){he[y?"unshift":"push"](()=>{z=y,r(17,z)})}function Re(y){he[y?"unshift":"push"](()=>{G=y,r(19,G)})}function ve(){E=_s(this.value),r(6,E)}function Y(){S=_s(this.value),r(5,S)}function X(y){he[y?"unshift":"push"](()=>{Ve=y,r(35,Ve)})}function Nr(y){he[y?"unshift":"push"](()=>{se=y,r(20,se)})}function Ze(){c=this.value,r(7,c)}function Rr(y){he[y?"unshift":"push"](()=>{ue=y,r(21,ue)})}function Mr(){f=this.value,r(9,f)}function Fr(y){he[y?"unshift":"push"](()=>{_e=y,r(24,_e)})}function Vr(y){he[y?"unshift":"push"](()=>{te=y,r(22,te)})}function Rt(){f=this.value,r(9,f)}function qr(y){he[y?"unshift":"push"](()=>{re=y,r(23,re)})}function Mt(y){he[y?"unshift":"push"](()=>{Be=y,r(25,Be)})}function Ft(y){he[y?"unshift":"push"](()=>{Ke=y,r(26,Ke)})}function Vt(y){he[y?"unshift":"push"](()=>{xe=y,r(28,xe)})}function Ur(y){he[y?"unshift":"push"](()=>{ge=y,r(27,ge)})}function qt(){m=this.value,r(0,m)}function Lr(y){he[y?"unshift":"push"](()=>{ce=y,r(29,ce)})}function zr(y){he[y?"unshift":"push"](()=>{we=y,r(31,we)})}function Ut(y){he[y?"unshift":"push"](()=>{de=y,r(30,de)})}function Wr(){b=this.value,r(4,b)}function Lt(y){he[y?"unshift":"push"](()=>{Ge=y,r(32,Ge)})}function Te(y){he[y?"unshift":"push"](()=>{Ae=y,r(33,Ae)})}function pr(y){he[y?"unshift":"push"](()=>{Ne=y,r(34,Ne)})}function Hr(y){he[y?"unshift":"push"](()=>{Ye=y,r(37,Ye)})}return t.$$.update=()=>{t.$$.dirty[2]&16&&r(10,p=h!==void 0),t.$$.dirty[2]&16&&i(r(1,v=fn(async()=>h===void 0||!pt?[]:await ie.emails.where("userID").equals(h.id).toArray()))),t.$$.dirty[0]&3&&v.subscribe(y=>{const R=y.find(Z=>Z.emailAddress===m&&Z.id!==void 0);R!==void 0?r(2,k=R):r(2,k=void 0)}),t.$$.dirty[0]&1&&ze(),t.$$.dirty[0]&4&&o(r(3,_=fn(async()=>k===void 0||!pt?[]:await ie.pages.where("emailID").equals(k.id).toArray()))),t.$$.dirty[0]&24&&_.subscribe(y=>{const R=y.find(Z=>Z.pageName===b&&Z.id!==void 0);R!==void 0?r(11,x=R):r(11,x=void 0)}),t.$$.dirty[0]&16&&Ue(),t.$$.dirty[0]&32&&(P=S/32),t.$$.dirty[0]&64&&r(12,A=Math.floor(1e4*100**E))},[m,v,k,_,b,S,E,c,u,f,p,x,A,C,N,V,F,z,H,G,se,ue,te,re,_e,Be,Ke,ge,xe,ce,de,we,Ge,Ae,Ne,Ve,_t,Ye,qe,Ce,n,a,nr,Qe,sr,ir,Je,ar,Ct,wt,or,Ot,lr,Tt,ur,ct,Xe,dt,ht,cr,dr,tt,hr,jt,ft,kt,h,be,Br,Nt,Re,ve,Y,X,Nr,Ze,Rr,Mr,Fr,Vr,Rt,qr,Mt,Ft,Vt,Ur,qt,Lr,zr,Ut,Wr,Lt,Te,pr,Hr]}class qa extends Ei{constructor(e){super(),Si(this,e,Na,Pa,Di,{},null,[-1,-1,-1,-1])}}export{qa as default};
